"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[4360],{4360:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var a=t(65043),r=t(35475),n=t(34535),i=t(19252),o=t(96446),l=t(85865),d=t(42518),u=t(43629),c=t(48407),m=t(96221),h=t(53387),w=t(99522),p=t(70579);const x=(0,n.Ay)(m.A)(e=>{let{theme:s}=e;return{display:"flex",minHeight:"100%",alignItems:"center",justifyContent:"center",padding:s.spacing(12,0)}});function f(){const[e,s]=(0,a.useState)(""),[t,n]=(0,a.useState)(!1);return(0,p.jsxs)(x,{title:"TestEnsure",children:[(0,p.jsx)(u.A,{}),(0,p.jsx)(i.A,{children:(0,p.jsx)(o.A,{sx:{maxWidth:480,mx:"auto"},children:t?(0,p.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,p.jsx)(w.m1,{sx:{mb:5,mx:"auto",height:160}}),(0,p.jsx)(l.A,{variant:"h3",gutterBottom:!0,children:"Request sent successfully"}),(0,p.jsxs)(l.A,{children:["We have sent a confirmation email to \xa0",(0,p.jsx)("strong",{children:e}),(0,p.jsx)("br",{}),"Please check your email."]}),(0,p.jsx)(d.A,{size:"large",variant:"contained",component:r.N_,to:c.pi.login,sx:{mt:5},children:"Back"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.A,{variant:"h3",paragraph:!0,children:"Forgot your password?"}),(0,p.jsx)(l.A,{sx:{color:"text.secondary",mb:5},children:"Please enter the email address associated with your account and We will email you a link to reset your password."}),(0,p.jsx)(h.F,{onSent:()=>n(!0),onGetEmail:e=>s(e)}),(0,p.jsx)(d.A,{fullWidth:!0,size:"large",component:r.N_,to:c.pi.login,sx:{mt:1},children:"Back"})]})})})]})}},53387:(e,s,t)=>{t.d(s,{F:()=>P,Y:()=>b});var a=t(80899),r=t(73216),n=t(65043),i=t(5748),o=t(86897),l=t(91698),d=t(80586),u=t(88911),c=t(67254),m=t(67784),h=t(51787),w=t(17392),p=t(72812),x=t(80916),f=t(88930),g=t(77137),j=t(30342),v=t(43409),A=t(70579);function b(e){let{onSent:s,onGetEmail:t}=e;const{resetToken:b,userId:y}=(0,r.g)(),[S,P]=(0,n.useState)(!1),C=(0,v.A)(),[k,E]=(0,n.useState)(!0),{logout:I}=(0,j.A)(),W=a.Ik().shape({newPassword:a.Yj().required("Enter New Password"),passwordConfirmation:a.Yj().oneOf([a.KR("newPassword"),null],"Confrmation password doesn't match with new password")}),_=(0,o.Wx)({initialValues:{email:""},validationSchema:W,onSubmit:async(e,a)=>{let{setErrors:r,setSubmitting:n}=a;try{(async()=>{const{newPassword:e}=_.values,t={Token:b,password:e,userId:y};try{const e=await(0,x.EM)(g.p3.POST,`${f.A.auth.resetPassword}?bypass=true`,t);200===parseInt(e.status,10)?s(!0):s(!1)}catch(a){console.log("err",a)}})(),C.current&&(s(),t(_.values.email),n(!1))}catch(i){C.current&&(r({afterSubmit:i.message}),n(!1))}}}),{errors:F,touched:T,isSubmitting:V,values:B,setFieldValue:q,handleSubmit:z,getFieldProps:N}=_,R=(0,n.useCallback)(async()=>{try{await I()}catch(e){console.error(e)}},[I]);return(0,n.useEffect)(()=>{R()},[R]),(0,A.jsx)(o.QI,{value:_,children:(0,A.jsx)(o.lV,{autoComplete:"off",noValidate:!0,onSubmit:z,children:(0,A.jsxs)(u.A,{spacing:3,children:[F.afterSubmit&&(0,A.jsx)(c.A,{severity:"error",children:F.afterSubmit}),(0,A.jsx)(m.A,{fullWidth:!0,...N("newPassword"),type:S?"text":"password",label:"New Password",onChange:e=>{const{value:s}=e.target,{passwordConfirmation:t}=B;q("newPassword",s),E(t!==s)},value:(null===B||void 0===B?void 0:B.newPassword)||"",error:Boolean(T.newPassword&&F.newPassword),helperText:T.newPassword&&F.newPassword,InputProps:{endAdornment:(0,A.jsx)(h.A,{position:"end",children:(0,A.jsx)(w.A,{onClick:()=>{P(e=>!e)},edge:"end",children:(0,A.jsx)(i.In,{icon:S?l.A:d.A})})})}}),(0,A.jsx)(m.A,{fullWidth:!0,...N("passwordConfirmation"),type:"password",label:"Confirm Password",value:(null===B||void 0===B?void 0:B.passwordConfirmation)||"",onChange:e=>{const{value:s}=e.target,{newPassword:t}=B;q("passwordConfirmation",s),E(t!==s)},error:Boolean(T.passwordConfirmation&&F.passwordConfirmation),helperText:T.passwordConfirmation&&F.passwordConfirmation}),(0,A.jsx)(p.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:V,disabled:k,children:"Reset Password"})]})})})}var y=t(15285),S=t(31802);function P(e){let{onSent:s,onGetEmail:t}=e;const r=(0,v.A)(),i=(0,y.wA)(),{userList:l}=(0,y.d4)(e=>e.user),[d,h]=(0,n.useState)(!1),[w,j]=(0,n.useState)(!0),b=a.Ik().shape({email:a.Yj().email("Email must be a valid email address").required("Email is required")});(0,n.useEffect)(()=>{h(!0),i((0,S.lo)()),h(!1)},[i]);const P=(0,o.Wx)({initialValues:{email:""},validationSchema:b,onSubmit:async(e,a)=>{let{setErrors:n,setSubmitting:i}=a;try{(async()=>{const{email:e}=P.values,t={Email:e};try{const e=await(0,x.EM)(g.p3.POST,`${f.A.auth.forgotPassword}?bypass=true`,t);200===parseInt(e.status,10)?s(!0):s(!1)}catch(a){console.log("err",a)}})(),r.current&&(s(),t(P.values.email),i(!1))}catch(o){r.current&&(n({afterSubmit:o.message}),i(!1))}}}),{errors:C,touched:k,isSubmitting:E,setFieldValue:I,handleSubmit:W,getFieldProps:_}=P;return(0,A.jsx)(o.QI,{value:P,children:(0,A.jsx)(o.lV,{autoComplete:"off",noValidate:!0,onSubmit:W,children:(0,A.jsxs)(u.A,{spacing:3,children:[C.afterSubmit&&(0,A.jsx)(c.A,{severity:"error",children:C.afterSubmit}),(0,A.jsx)(m.A,{fullWidth:!0,..._("email"),type:"email",label:"Email address",onChange:e=>{const{value:s}=e.target;I("email",s);const t=null===l||void 0===l?void 0:l.find(e=>(null===e||void 0===e?void 0:e.email)===s);j(!t)},error:Boolean(k.email&&C.email),helperText:k.email&&C.email}),(0,A.jsx)(p.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:w,loading:E,children:"Reset Password"})]})})})}}}]);
//# sourceMappingURL=4360.6006c33c.chunk.js.map