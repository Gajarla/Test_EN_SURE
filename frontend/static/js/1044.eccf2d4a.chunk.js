"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[1044],{36880:(e,t,i)=>{i.d(t,{A:()=>x});var a=i(53536),s=i(5748),l=i(11892),n=i(96446),r=i(85865),o=i(77739),d=i(17392),c=i(88446),u=i(76412),h=i(70579);function x(e){let{links:t,action:i,heading:x,info:m,moreLink:v=[],sx:A,...p}=e;return(0,h.jsxs)(n.A,{sx:{mb:5,...A},children:[(0,h.jsxs)(n.A,{sx:{display:"flex",alignItems:"center"},children:[(0,h.jsxs)(n.A,{sx:{flexGrow:1},children:[(0,h.jsxs)(n.A,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,h.jsx)(r.A,{variant:"h4",gutterBottom:!0,children:x}),(0,h.jsx)(o.A,{title:m,placement:"bottom",arrow:!0,children:(0,h.jsx)(d.A,{children:(0,h.jsx)(s.In,{icon:l.A,width:25,height:25})})})]}),(0,h.jsx)(u._5,{links:t,...p})]}),i&&(0,h.jsx)(n.A,{sx:{flexShrink:0},children:i})]}),(0,h.jsx)(n.A,{sx:{mt:2},children:(0,a.isString)(v)?(0,h.jsx)(c.A,{href:v,target:"_blank",variant:"body2",children:v}):v.map(e=>(0,h.jsx)(c.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e))})]})}},51044:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ce});var a=i(53536),s=i(42518),l=i(19252),n=i(68903),r=i(88911),o=i(67784),d=i(83462),c=i(26600),u=i(35316),h=i(98533),x=i(29347),m=i(65043),v=i(73216),A=i(86897),p=i(11737),g=i(48407),j=i(96221),f=i(36880),b=i(34535),y=i(12110),T=i(85865),R=i(73338),C=i(70579);const S=(0,b.Ay)(y.A)(e=>{let{theme:t}=e;return{boxShadow:"none",textAlign:"center",padding:t.spacing(5,0),color:t.palette.error.darker,backgroundColor:t.palette.error.lighter}});function k(e){let{TOTAL:t}=e;return(0,C.jsxs)(S,{children:[(0,C.jsx)(T.A,{variant:"h3",children:(0,R.Rn)(t)}),(0,C.jsx)(T.A,{variant:"subtitle1",sx:{opacity:.72},children:"Test Runs"})]})}var _=i(22019),w=i(79958),O=i(96446),N=i(26240),D=i(56434),L=i.n(D),M=i(66247);const H=["Release"],I=[{name:"Failed",data:[0]},{name:"Skipped",data:[0]}];function E(e){let{categories:t,CHART_DATA:i}=e;const s=(0,N.A)(),l=null===i||void 0===i?void 0:i.map(e=>{const t={};return t.name=e.name,t.data=[...e.data].reverse(),t}),n=(0,a.merge)((0,M.jY)(),{xaxis:{type:"String",categories:t?[...t].reverse():t||H},tooltip:{x:{format:"dd/MM/yy HH:mm"}},colors:[s.palette.chart.lightRed[0],s.palette.warning.light]});return(0,C.jsxs)(y.A,{children:[(0,C.jsx)(w.A,{title:"Issues Trend Report"}),(0,C.jsx)(O.A,{sx:{mt:3,mx:3},dir:"ltr",children:(0,C.jsx)(_.A,{type:"area",series:L()(l)||I,options:n,height:364})})]})}const $=["Release"],z=[{data:[0]}];function U(e){let{categories:t,CHART_DATA:i}=e;const s=(0,N.A)(),l=(0,a.merge)((0,M.jY)(),{colors:[s.palette.chart.violet[0]],tooltip:{marker:{show:!1},custom:e=>{var t;let{series:a,seriesIndex:s,dataPointIndex:l}=e;return console.log("series",a),i&&i[0]?`<div style="">${null===(t=i[s])||void 0===t?void 0:t.data[l]}</div>`:""},y:{formatter:e=>e,title:{formatter:()=>""}}},plotOptions:{bar:{horizontal:!0,barHeight:"28%",borderRadius:2}},xaxis:{categories:t||$}});return(0,C.jsxs)(y.A,{children:[(0,C.jsx)(w.A,{title:"Run Duration Report"}),(0,C.jsx)(O.A,{sx:{mx:3},dir:"ltr",children:(0,C.jsx)(_.A,{type:"bar",series:L()(i)||z,options:l,height:390})})]})}const F=(0,b.Ay)("div")(e=>{let{theme:t}=e;return{height:372,marginTop:t.spacing(5),"& .apexcharts-canvas svg":{height:372},"& .apexcharts-canvas svg,.apexcharts-canvas foreignObject":{overflow:"visible"},"& .apexcharts-legend":{height:72,alignContent:"center",position:"relative !important",borderTop:`solid 1px ${t.palette.divider}`,top:"calc(300px) !important"}}}),B=[0,0,0,0];function W(e){let{releaseName:t,CHART_DATA:i}=e;const s=(0,N.A)(),l=(0,a.merge)((0,M.jY)(),{colors:[s.palette.chart.lightGreen[0],s.palette.chart.grey[0],s.palette.chart.lightRed[0],s.palette.warning.main],labels:["Passed","Untested","Failed","Skipped"],stroke:{colors:[s.palette.background.paper]},legend:{floating:!0,horizontalAlign:"center"},dataLabels:{enabled:!0,dropShadow:{enabled:!1}},tooltip:{fillSeriesColor:!1,y:{formatter:e=>(0,R.kB)(e),title:{formatter:e=>`${e}`}}},plotOptions:{pie:{donut:{labels:{show:!i}}}}});return(0,C.jsxs)(y.A,{children:[(0,C.jsx)(w.A,{title:t?`${t} - Release Status`:"Release Status"}),(0,C.jsx)(F,{dir:"ltr",children:(0,C.jsx)(_.A,{type:"pie",series:L()(i)||B,options:l,height:310})})]})}const Y=(0,b.Ay)(y.A)(e=>{let{theme:t}=e;return{boxShadow:"none",textAlign:"center",padding:t.spacing(5,0),color:t.palette.warning.darker,backgroundColor:t.palette.warning.lighter}});function G(e){let{TOTAL:t,COUNT:i}=e;return(0,C.jsxs)(Y,{children:[(0,C.jsx)(T.A,{variant:"h3",children:(0,R.pA)(i,t)}),(0,C.jsx)(T.A,{variant:"subtitle1",sx:{opacity:.72},children:"Automated Cases %"})]})}const J=(0,b.Ay)(y.A)(e=>{let{theme:t}=e;return{boxShadow:"none",textAlign:"center",padding:t.spacing(5,0),color:t.palette.info.darker,backgroundColor:t.palette.info.lighter}});function P(e){let{TOTAL:t}=e;return(0,C.jsxs)(J,{children:[(0,C.jsx)(T.A,{variant:"h3",children:(0,R.Rn)(t)}),(0,C.jsx)(T.A,{variant:"subtitle1",sx:{opacity:.72},children:"Test Steps"})]})}const Z=["Release"],q=[{name:"Untested",data:[0]},{name:"Passed",data:[0]},{name:"Skipped",data:[0]},{name:"Failed",data:[0]}];function V(e){let{cardHeader:t,categories:i,CHART_DATA:s}=e;const l=(0,N.A)(),n=null===s||void 0===s?void 0:s.map(e=>{const t={};return t.name=e.name,t.data=[...e.data].reverse(),t}),r=(0,a.merge)((0,M.jY)(),{chart:{stacked:!0,zoom:{enabled:!0}},colors:[l.palette.chart.grey[0],l.palette.chart.lightGreen[0],l.palette.warning.main,l.palette.chart.lightRed[0]],legend:{itemMargin:{vertical:8},position:"right",offsetY:20},plotOptions:{bar:{columnWidth:"16%"}},stroke:{show:!1},xaxis:{type:"String",categories:i?[...i].reverse():i||Z}});return(0,C.jsxs)(y.A,{children:[(0,C.jsx)(w.A,{title:t}),(0,C.jsx)(O.A,{sx:{p:3,pb:1},dir:"ltr",children:(0,C.jsx)(_.A,{type:"bar",series:L()(n)||q,options:r,height:364})})]})}const K=(0,b.Ay)(y.A)(e=>{var t,i;let{theme:a}=e;return{boxShadow:"none",textAlign:"center",padding:a.spacing(5,0),color:null===(t=a.palette)||void 0===t?void 0:t.primary.darker,backgroundColor:null===(i=a.palette)||void 0===i?void 0:i.primary.lighter}});function Q(e){let{TOTAL:t}=e;return(0,C.jsxs)(K,{children:[(0,C.jsx)(T.A,{variant:"h3",children:(0,R.Rn)(t)}),(0,C.jsx)(T.A,{variant:"subtitle1",sx:{opacity:.72},children:"Test Cases"})]})}const X=(0,b.Ay)(y.A)(e=>{let{theme:t}=e;return{boxShadow:"none",textAlign:"center",padding:t.spacing(5,0),color:t.palette.info.darker,backgroundColor:t.palette.info.lighter}});function ee(e){let{TOTAL:t}=e;return(0,C.jsxs)(X,{children:[(0,C.jsx)(T.A,{variant:"h3",children:t}),(0,C.jsx)(T.A,{variant:"subtitle1",sx:{opacity:.72},children:"Duration"})]})}var te=i(15285),ie=i(1068),ae=i(63257),se=i(32393),le=i(95683),ne=i(77137),re=i(5963),oe=i(57390);function de(e,t,i){return t[i]<e[i]?-1:t[i]>e[i]?1:0}function ce(){var e,t,i,b,y,T,R,S,_,w,O,N,D,L;const{themeStretch:M}=(0,p.A)(),H=(0,te.wA)(),I=(0,v.Zp)(),{releaseList:$}=(0,te.d4)(e=>e.release),[z,F]=(0,m.useState)(),[B,Y]=(0,m.useState)(),[J]=(0,m.useState)("desc"),[Z]=(0,m.useState)("createdAt"),[q]=(0,m.useState)(""),{releaseId:K}=(0,v.g)(),{appendUrl:X}=(0,te.d4)(e=>e.user),{dashboardData:ce}=(0,te.d4)(e=>e.release),[ue,he]=(0,m.useState)(!1),[xe,me]=(0,m.useState)({}),[ve,Ae]=(0,m.useState)(!1),[pe,ge]=(0,m.useState)("Release Dashboard"),[je,fe]=(0,m.useState)(!1),be=e=>{I((e=>{let t=e;return X&&(t=`${e}?${X}`),t})(e))},ye=()=>{he(!1)},Te=(0,m.useCallback)(async()=>{const e=function(e,t,i){const s=null===e||void 0===e?void 0:e.map((e,t)=>[e,t]);return null===s||void 0===s||s.sort((e,i)=>{const a=t(e[0],i[0]);return 0!==a?a:e[1]-i[1]}),i?(0,a.filter)(e,e=>-1!==e.releaseName.toLowerCase().indexOf(i.toLowerCase())):null===s||void 0===s?void 0:s.map(e=>e[0])}(await(0,ae.oT)(),function(e,t){return"desc"===e?(e,i)=>de(e,i,t):(e,i)=>-de(e,i,t)}(J,Z),q);(0,ie.cH)(H,e)},[H,q,J,Z]),Re=(0,A.Wx)({enableReinitialize:!0,initialValues:{releaseId:K}}),{values:Ce,setFieldValue:Se}=Re,ke=(0,m.useCallback)(async e=>{if(e){var t;fe(!0);const i=await(0,ae.Wy)(e);fe(!1),0!==(null===i||void 0===i||null===(t=i.jobNames)||void 0===t?void 0:t.length)?((0,ie.$Z)(H,i),Se("releaseId",null===i||void 0===i?void 0:i._id),ge(`${null===i||void 0===i?void 0:i.releaseName} - Release Dashboard`)):he(!0)}},[H,Se]),_e=async e=>{Ae(!0),ke(e),Ae(!1)};return(0,m.useEffect)(()=>{(0,ie.$Z)(H,null)},[H]),(0,m.useEffect)(()=>{!async function(){const e=await(0,le.fF)(ne.mc.RELEASE,ne.Rk.CURRENT_RELEASE);F(e),e&&(0,re.ou)("localRelease",JSON.stringify(e));const t=await(0,le.fF)(ne.mc.TESTRUN,ne.Rk.CURRENT_TESTRUN);Y(t),t&&(0,re.ou)("localTestRun",JSON.stringify(t)),Te()}(),ke(K)},[H,ke,Te,K]),console.log("dashboardData",ce),(0,C.jsxs)(j.A,{title:"Test Ensure",children:[(0,C.jsx)(f.A,{heading:pe,links:[{name:"Dashboard"}],info:"Release dashboard helps you understand the Automation pass rate and script effectivess",action:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(s.A,{variant:"contained",size:"small",onClick:async()=>{(0,ie.UE)(H,!0);const e=z||JSON.parse((0,re.qt)("localRelease")),t=B||JSON.parse((0,re.qt)("localTestRun"));(0,re.ou)("localRelease"),(0,re.ou)("localTestRun"),e&&be(`${g.nB.release.root}/release/${e._id}/testCases`),t&&be(`${g.nB.testRuns.root}/testRuns/${t._id}/testCases`)},children:"Back"})," "]})}),(0,C.jsxs)(l.A,{maxWidth:!M&&"xl",children:[(0,C.jsx)(oe.A,{loading:je}),(0,C.jsxs)(n.Ay,{container:!0,spacing:3,children:[(0,C.jsx)(n.Ay,{item:!0,xs:12,sm:3,md:12,children:(0,C.jsx)(r.A,{width:200,children:(0,C.jsxs)(o.A,{select:!0,fullWidth:!0,size:"small",value:Ce.releaseId,placeholder:"Select Release",id:"module",SelectProps:{native:!0},onChange:e=>(async e=>{const t=null===$||void 0===$?void 0:$.find(t=>t._id===e);me(t),_e(e)})(e.target.value),children:[0===(null===$||void 0===$?void 0:$.length)?(0,C.jsx)("option",{value:"",children:"Select Release"}):null,(null===$||void 0===$?void 0:$.length)>0&&$.map(e=>(0,C.jsx)("option",{value:e._id,children:e.releaseName},e._id))]})})}),ve&&(0,C.jsx)(se.A,{}),!ve&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,C.jsx)(Q,{TOTAL:null===ce||void 0===ce?void 0:ce.testCasesCount})}),(0,C.jsx)(n.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,C.jsx)(P,{TOTAL:null===ce||void 0===ce?void 0:ce.testStepsCount})}),(0,C.jsx)(n.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,C.jsx)(G,{TOTAL:null===ce||void 0===ce?void 0:ce.testCasesCount,COUNT:null===ce||void 0===ce?void 0:ce.automatedTestCases})}),(0,C.jsx)(n.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,C.jsx)(k,{TOTAL:null===ce||void 0===ce?void 0:ce.testRunsCount})}),(0,C.jsx)(n.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,C.jsx)(ee,{TOTAL:(null===ce||void 0===ce?void 0:ce.releaseDuration)||"0s"})}),(0,C.jsx)(n.Ay,{item:!0,xs:12,md:6,lg:8,children:(null===ce||void 0===ce||null===(e=ce.cummulativeMetrics)||void 0===e?void 0:e.categories)&&(null===ce||void 0===ce||null===(t=ce.cummulativeMetrics)||void 0===t?void 0:t.cumm_chart_data)&&(0,C.jsx)(V,{cardHeader:"Cumulative Trend Report - Releases",categories:null===ce||void 0===ce||null===(i=ce.cummulativeMetrics)||void 0===i?void 0:i.categories,CHART_DATA:null===ce||void 0===ce||null===(b=ce.cummulativeMetrics)||void 0===b?void 0:b.cumm_chart_data})}),(0,C.jsx)(n.Ay,{item:!0,xs:12,md:6,lg:4,children:(null===ce||void 0===ce||null===(y=ce.releaseStatusMetrics)||void 0===y?void 0:y.releaseName)&&(null===ce||void 0===ce||null===(T=ce.releaseStatusMetrics)||void 0===T?void 0:T.releaseStatus)&&(0,C.jsx)(W,{releaseName:null===ce||void 0===ce||null===(R=ce.releaseStatusMetrics)||void 0===R?void 0:R.releaseName,CHART_DATA:null===ce||void 0===ce||null===(S=ce.releaseStatusMetrics)||void 0===S?void 0:S.releaseStatus})}),(null===ce||void 0===ce?void 0:ce.testRunCummulativeMetrics)&&(0,C.jsx)(n.Ay,{item:!0,xs:12,md:6,lg:12,children:(0,C.jsx)(V,{cardHeader:"Cumulative Trend Report - Test Runs",categories:null===ce||void 0===ce||null===(_=ce.testRunCummulativeMetrics)||void 0===_?void 0:_.categories,CHART_DATA:null===ce||void 0===ce||null===(w=ce.testRunCummulativeMetrics)||void 0===w?void 0:w.cumm_testrun_chart_data})}),(0,C.jsx)(n.Ay,{item:!0,xs:12,md:6,lg:6,children:(0,C.jsx)(E,{categories:null===ce||void 0===ce||null===(O=ce.issuesMetrics)||void 0===O?void 0:O.categories,CHART_DATA:null===ce||void 0===ce||null===(N=ce.issuesMetrics)||void 0===N?void 0:N.issue_chart_data})}),(0,C.jsx)(n.Ay,{item:!0,xs:12,md:6,lg:6,children:(0,C.jsx)(U,{categories:null===ce||void 0===ce||null===(D=ce.durationMetrics)||void 0===D?void 0:D.categories,CHART_DATA:null===ce||void 0===ce||null===(L=ce.durationMetrics)||void 0===L?void 0:L.duration_chart_data})})]})]}),(0,C.jsxs)(d.A,{open:ue,onClose:ye,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,C.jsx)(c.A,{id:"alert-dialog-title",children:"Dashboard Info?"}),(0,C.jsx)(u.A,{children:(0,C.jsxs)(h.A,{id:"alert-dialog-description",children:[(0,C.jsx)("br",{})," ",null===xe||void 0===xe?void 0:xe.releaseName," doesn't have any jobs to display dashboard!"]})}),(0,C.jsx)(x.A,{children:(0,C.jsx)(s.A,{onClick:ye,children:"OK"})})]})]})]})}},57390:(e,t,i)=>{i.d(t,{A:()=>n});i(65043);var a=i(96446),s=i(81637),l=i(70579);function n(e){let{loading:t}=e;return t?(0,l.jsx)(a.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(255, 255, 255, 0.6)",zIndex:e=>e.zIndex.modal+1,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(s.A,{size:48})}):null}},66247:(e,t,i)=>{function a(){return{chart:{toolbar:{show:!1},zoom:{enabled:!1},foreColor:"#888"},tooltip:{enabled:!0,style:{fontSize:"12px",fontFamily:void 0}},legend:{show:!0,position:"bottom",fontSize:"14px",markers:{width:12,height:12,radius:12}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},grid:{show:!1},xaxis:{labels:{show:!0,rotate:0,trim:!0}},yaxis:{show:!0}}}i.d(t,{jY:()=>a});i(53536),i(22019),i(70579);i(73338)},73338:(e,t,i)=>{i.d(t,{IG:()=>n,Rn:()=>o,kB:()=>r,pA:()=>c,tm:()=>d});var a=i(53536),s=i(79328),l=i.n(s);function n(e){return l()(e/100).format("0.0%")}function r(e){return l()(e).format()}function o(e){return(0,a.replace)(l()(e).format("0.00a"),".00","")}function d(e){return l()(e).format("0.0 b")}function c(e,t){return l()(e/t).format("0.0%")}}}]);
//# sourceMappingURL=1044.eccf2d4a.chunk.js.map