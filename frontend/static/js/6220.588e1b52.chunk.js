"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[6220],{6220:(e,l,s)=>{s.r(l),s.d(l,{default:()=>we});var t=s(65043),d=s(67457),n=s(73216),i=s(19252),o=s(15285),a=s(48407),r=s(11737),c=s(96221),u=s(36880),h=s(80899),v=s(46987),x=s(86897),m=s(34535),p=s(45764),j=s(87275),y=s(85865),A=s(32808),g=s(68903),f=s(12110),D=s(88911),w=s(67784),O=s(57972),S=s(74605),b=s(14256),C=s(23609),E=s(51962),k=s(42518),I=s(79958),N=s(79650),T=s(71806),R=s(84882),P=s(28076),_=s(10039),M=s(73460),Y=s(90889),L=s(86605),W=s(40710),z=s(83462),$=s(26600),V=s(35316),q=s(98533),B=s(29347),H=s(5748),J=s(18577),F=s(85405),K=s(26581),Z=s(34109),U=s(39487),Q=s(91577),G=s(16569),X=s(86178),ee=s.n(X),le=s(51010),se=s(23275),te=s(24014),de=s(33211),ne=s(61882),ie=s(1068),oe=s(63257),ae=s(8525),re=s(69092),ce=s(88930),ue=s(5963),he=s(95683),ve=s(32393),xe=s(77137),me=s(70579);const pe=(0,m.Ay)(y.A)(e=>{var l,s;let{theme:t}=e;return{...t.typography.subtitle1,color:null===(l=t.palette)||void 0===l||null===(s=l.text)||void 0===s?void 0:s.primary}}),je=(0,me.jsx)(Z.A,{fontSize:"small"}),ye=(0,me.jsx)(K.A,{fontSize:"small"}),Ae=[{week:0,day:"Sunday"},{week:1,day:"Monday"},{week:2,day:"Tuesday"},{week:3,day:"Wednesday"},{week:4,day:"Thursday"},{week:5,day:"Friday"},{week:6,day:"Saturday"}],ge=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31];function fe(e){var l,s,d,i,r,c,u,m,K,Z;let{isEdit:X,currentRelease:fe}=e;const De=(0,n.Zp)(),{enqueueSnackbar:we}=(0,v.dh)(),Oe=(0,o.wA)(),{appendUrl:Se}=(0,o.d4)(e=>e.user),{currentProject:be}=(0,o.d4)(e=>e.project),{moduleList:Ce,filteredModuleList:Ee,filteredBPModuleList:ke}=(0,o.d4)(e=>e.module),{releaseList:Ie,releaseData:Ne,fetchReleaseData:Te}=(0,o.d4)(e=>e.release),[Re,Pe]=(0,t.useState)(!1),[_e,Me]=(0,t.useState)([]),[Ye,Le]=(0,t.useState)([]),[We,ze]=(0,t.useState)([]),[$e,Ve]=(0,t.useState)(),[qe,Be]=(0,t.useState)(),[He,Je]=(0,t.useState)(),[Fe,Ke]=(0,t.useState)(fe?fe.modules:[]),[Ze,Ue]=(0,t.useState)(fe?fe.modules:[]),[Qe,Ge]=(0,t.useState)(!1),[Xe,el]=(0,t.useState)([]),[ll,sl]=(0,t.useState)([]),[tl,dl]=(0,t.useState)(!0),[nl,il]=(0,t.useState)(!1),[ol,al]=(0,t.useState)(!1),[rl,cl]=(0,t.useState)({}),[ul,hl]=(0,t.useState)(),[vl,xl]=(0,t.useState)(!0),[ml,pl]=(0,t.useState)(new Date),[jl,yl]=(0,t.useState)(),[Al,gl]=(0,t.useState)(!1),[fl,Dl]=(0,t.useState)([]),[wl,Ol]=(0,t.useState)(null),Sl=(0,A.Z)(),bl=e=>{De((e=>{let l=e;return Se&&(l=`${e}?${Se}`),l})(e))},Cl=()=>{il(!1)},El=(e,l,s,t)=>{if(l&&s&&t)try{const d=new Date(l),n={start:d,end:new Date(s)},i=(0,le.A)(n).some(l=>e===xe.CJ.WEEKLY&&parseInt((0,se.A)(l),10)===parseInt(t,10)||e===xe.CJ.MONTHLY&&parseInt(l.getDate(),10)===parseInt(t,10));return i||Pe(!1),i}catch(d){console.log("error",d)}return!0},kl=h.Ik().shape({name:h.Yj().min(5,"Release name should be more than 5 characters").required("Release Name is required"),releaseDate:h.p6().when([],(e,l,s)=>X?l:l.min(new Date,"Release Date cannot be in the past")),scheduleStart:h.p6().required("Start date is required"),scheduleEnd:h.p6().min(h.KR("scheduleStart"),"End date must be later than start date"),schedule:h.Yj(),weekDay:h.Yj().when("schedule",(e,l)=>{let[s]=e;return s===xe.CJ.WEEKLY?l.required("Week day is required"):l}).test("is-weekday-in-range","The specified weekday does not fall within the date range",(e,l)=>{const{schedule:s,scheduleStart:t,scheduleEnd:d}=l.parent;return s===xe.CJ.MONTHLY||El(s,t,d,e)}),scheduleDay:h.Yj().when("schedule",(e,l)=>{let[s]=e;return s===xe.CJ.MONTHLY?l.required("Day is required"):l}).test("is-day-in-range","The specified day does not fall within the date range",(e,l)=>{const{schedule:s,scheduleStart:t,scheduleEnd:d}=null===l||void 0===l?void 0:l.parent;return s===xe.CJ.WEEKLY||El(s,t,d,e)})}),Il=(0,t.useCallback)(async()=>{xl(!0);try{const t=await(0,he.Kv)();if(t&&t._id){var e,l,s;(0,ie.UE)(Oe,!1);const d=await(0,de.A)({method:"get",url:ce.A.releases.getReleaseByPID(t._id,"createdAt","desc","10","0"),headers:{Authorization:`Bearer ${(0,ue.qt)("accessToken")}`}});console.log("data.totalCount",null===d||void 0===d||null===(e=d.data)||void 0===e?void 0:e.totalCount);const n=null===d||void 0===d||null===(l=d.data)||void 0===l?void 0:l.response,i=null===d||void 0===d||null===(s=d.data)||void 0===s?void 0:s.totalCount;(0,ie.iL)(Oe,i),Oe(n instanceof Array?(0,ie.LK)(n):(0,ie.LK)([]))}}catch(t){}(0,ie.Oi)(Oe,null),xl(!1)},[Oe,Te]);console.log("new Date()",new Date),console.log((0,te.A)("12-06-2025","dd-MM-yyyy",new Date));const Nl=new Date;Nl.setHours(0,0,0,0),console.log("today",Nl);const Tl=(0,te.A)("12-06-2025","dd-MM-yyyy",new Date);Tl.setHours(0,0,0,0),console.log("inputDate",Tl);const Rl=(0,x.Wx)({enableReinitialize:!0,initialValues:{name:(null===fe||void 0===fe?void 0:fe.releaseName)||(null===Ne||void 0===Ne?void 0:Ne.releaseName),description:(null===fe||void 0===fe?void 0:fe.description)||(null===Ne||void 0===Ne?void 0:Ne.description),version:(null===Ne||void 0===Ne?void 0:Ne.releaseVersion)||(null===fe||void 0===fe?void 0:fe.version)||"",schedule:(null===Ne||void 0===Ne?void 0:Ne.schedule)||(null===fe||void 0===fe?void 0:fe.schedule)||"",scheduleStart:(null===Ne||void 0===Ne||null===(l=Ne.scheduledOn)||void 0===l?void 0:l.scheduleStart)||(0,te.A)("12-06-2025","dd-MM-yyyy",new Date),scheduleEnd:(null===Ne||void 0===Ne||null===(s=Ne.scheduledOn)||void 0===s?void 0:s.scheduleEnd)||(0,te.A)("12-06-2025","dd-MM-yyyy",new Date),weekDay:(null===Ne||void 0===Ne||null===(d=Ne.scheduledOn)||void 0===d?void 0:d.wekDay)||"",scheduleDay:(null===Ne||void 0===Ne||null===(i=Ne.scheduledOn)||void 0===i?void 0:i.monthDay)||""},validationSchema:kl,context:{isEdit:X},validate:async e=>{try{return await kl.validate(e,{context:{isEdit:X},abortEarly:!1}),{}}catch(l){const e={};return Array.isArray(l.inner)?l.inner.forEach(l=>{e[l.path]||(e[l.path]=l.message)}):l.path&&(e[l.path]=l.message),e}},onSubmit:async(e,l)=>{let{setSubmitting:s,resetForm:t,setErrors:d}=l;try{var n;s(!1);const e=null===Ie||void 0===Ie?void 0:Ie.find(e=>e.releaseName===Ne.releaseName);e&&!X&&il(!0),(!e&&Ne&&0!==(null===Ne||void 0===Ne||null===(n=Ne.modules)||void 0===n?void 0:n.length)||e&&X)&&(X?(async()=>{(0,ie.v0)(Oe,fe._id,Ne)})():(async()=>{(0,ie.qQ)(Oe,Ne),Il()})(),t(),we(X?"Release changes saved":"Release created successfully",{variant:"success"}),bl(a.nB.release.allReleases))}catch(i){s(!1),d(i)}}}),Pl=(0,t.useCallback)(()=>{if(console.log("moduleList",Ce),Ce&&tl){let e=null===Ce||void 0===Ce?void 0:Ce.map(e=>e.businessProcess).filter(e=>e);e=[...new Set([...e])],0!==e.length?el(e):el([]),dl(!1)}},[Ce,tl]),_l=async()=>{const e=await Rl.validateForm();console.log("values, values",Yl),console.log("errors",e),0===Object.keys(e).length?Pe(!Re):Rl.setTouched((0,x.dc)(e,!0)),Pl(),Me([]),ze([]),Ve(null),Be(null),Ke(null)},Ml=async()=>{const e=null===Ce||void 0===Ce?void 0:Ce.filter(e=>ll.includes(e.businessProcess));(0,ae.IS)(Oe,e),(e=>{var l;const s={};let t=[];s.projectID=be._id,s.releaseName=Yl.name,s.description=Yl.description,s.version=Yl.version,s.releaseVersion=Yl.version,s.releaseDate=ee()(Yl.releaseDate).format("MM/DD/YYYY hh:mm:ss A"),s.schedule=Yl.schedule||xe.CJ.NO_REPEAT,s.scheduledOn=null===Ne||void 0===Ne?void 0:Ne.scheduledOn;const d=[];if(null===e||void 0===e||e.forEach(e=>{const l={},s=[],n=[];null===e||void 0===e||e.testNodes.forEach(e=>{s.push(e._id),n.push(`${e.testNode[0].testCaseID} - ${e.testNode[0].testCaseDescription}`)}),l.name=e.suiteName,l.moduleID=e._id,l.testNodes=s,l.testCaseIDs=n,l.tags=Yl.tags,l.testPlaceholders=null===e||void 0===e?void 0:e.testPlaceholders,t.push(e._id),d.push(l)}),0===Ne.modules.length)s.modules=d;else{var n;const e=[...null===Ne||void 0===Ne?void 0:Ne.modules],l=null===(n=Ne.modules)||void 0===n?void 0:n.map(e=>e.moduleID);d.forEach(s=>{l.includes(s.moduleID)||e.push(s)}),s.modules=e}t=null===(l=s.modules)||void 0===l?void 0:l.map(e=>e.moduleID);const i=null===Ce||void 0===Ce?void 0:Ce.filter(e=>{var l;return!(null!==(l=t)&&void 0!==l&&l.includes(e._id))});(0,ae.AZ)(Oe,i),(0,ie.Oi)(Oe,s)})(e)},{values:Yl,errors:Ll,touched:Wl,handleSubmit:zl,isSubmitting:$l,setFieldValue:Vl,getFieldProps:ql}=Rl,Bl=(0,t.useCallback)(async()=>{try{var e;xl(!0);const l=await(0,oe.Tx)(null===fe||void 0===fe?void 0:fe._id);(0,ie.Oi)(Oe,l),xl(!1);const s=null!==l&&void 0!==l&&l.releaseDate?new Date(null===l||void 0===l?void 0:l.releaseDate):new Date;Vl("releaseDate",s);const t=null===(e=l.modules)||void 0===e?void 0:e.map(e=>e.moduleID),d=null===Ce||void 0===Ce?void 0:Ce.filter(e=>!(null!==t&&void 0!==t&&t.includes(e._id)));if((0,ae.AZ)(Oe,d),l.schedule!==xe.CJ.NO_REPEAT){gl(!0);const{scheduledOn:e}=l;Vl("scheduleStart",null===e||void 0===e?void 0:e.scheduleStart),Vl("scheduleEnd",null===e||void 0===e?void 0:e.scheduleEnd),pl(null===e||void 0===e?void 0:e.time),l.schedule===xe.CJ.WEEKLY?Vl("weekDay",null===e||void 0===e?void 0:e.weekDay):l.schedule===xe.CJ.MONTHLY&&Vl("scheduleDay",null===e||void 0===e?void 0:e.monthDay)}}catch(l){}},[Oe,fe,Vl,Ce]),Hl=h.Ik().shape({}),Jl=(0,x.Wx)({enableReinitialize:!0,initialValues:{moduleIDs:[],tags:_e||[],testCaseIDs:[],testCases:[],priority:[]},validationSchema:Hl}),Fl=async e=>{const l=e.target.value,{scheduledOn:s}=Ne;if(s){const e={...s,weekDay:l};Vl("weekDay",l),Vl("scheduleDay",""),delete e.monthDay,(0,ie.Oi)(Oe,{...Ne,schedule:Yl.schedule,scheduledOn:e})}else{const{scheduleStart:e,scheduleEnd:s}=Yl,t={scheduleStart:e,scheduleEnd:s,weekDay:l};(0,ie.Oi)(Oe,{...Ne,schedule:Yl.schedule,scheduledOn:t})}},Kl=(e,l)=>{"All"===(l=e.target.value)?Be($e):qe.includes(l)?Be(qe.filter(e=>e!==l)):qe.includes(l)||Be([...qe,l])},Zl=()=>{al(!1)},Ul=(e,l)=>{cl({testData:e,index:l})};return(0,t.useEffect)(()=>{Oe((0,ae.fs)()),Il()},[Oe,Il]),(0,t.useEffect)(()=>{fe&&X&&Bl(null===fe||void 0===fe?void 0:fe._id)},[fe,X,Bl]),(0,t.useEffect)(()=>{tl&&Pl()},[tl,Pl]),(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(x.QI,{value:Rl,children:(0,me.jsxs)(x.lV,{noValidate:!0,autoComplete:"off",onSubmit:zl,children:[(0,me.jsxs)(g.Ay,{container:!0,children:[(0,me.jsx)(g.Ay,{item:!0,xs:12,md:12,children:(0,me.jsx)(f.A,{sx:{p:3},style:{boxShadow:"0 0 10px #919eab"},children:(0,me.jsxs)(D.A,{spacing:3,children:[(0,me.jsx)(pe,{children:"Release Details"}),(0,me.jsxs)(D.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},style:{marginTop:"15px"},children:[(0,me.jsx)(w.A,{fullWidth:!0,label:"Release Name",size:"small",value:null===Ne||void 0===Ne?void 0:Ne.releaseName,...ql("name"),onChange:async e=>{const{value:l}=e.target;Vl("name",l);let s={};Ne?(s={...Ne,releaseName:l},Vl("scheduleStart",Yl.scheduleStart),Vl("scheduleEnd",Yl.scheduleEnd)):(s={releaseName:l,modules:[]},Vl("scheduleStart",new Date),Vl("scheduleEnd",new Date)),(0,ie.Oi)(Oe,s)},error:Boolean(Wl.name&&Ll.name),helperText:Wl.name&&Ll.name,disabled:X}),(0,me.jsx)(w.A,{fullWidth:!0,label:"Release Version",size:"small",placeholder:"Release Version",SelectProps:{native:!0},...ql("version"),onChange:e=>{Vl("version",e.target.value);const l={...Ne,releaseVersion:e.target.value};(0,ie.Oi)(Oe,l)},error:Boolean(Wl.version&&Ll.version),helperText:Wl.version&&Ll.version}),(0,me.jsx)(p.T,{renderInput:e=>(0,me.jsx)(w.A,{...e,fullWidth:!0,size:"small",error:Boolean(Wl.releaseDate&&Ll.releaseDate),helperText:Wl.releaseDate&&Ll.releaseDate}),label:"Release Date",format:"dd-MM-yyyy",...ql("date"),value:Yl.releaseDate,minDate:Yl.date,onChange:e=>{Vl("releaseDate",e)},disabled:X})]}),(0,me.jsxs)(D.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[(0,me.jsx)(w.A,{size:"small",fullWidth:!0,label:"Release Description",...ql("description"),onChange:e=>{Vl("description",e.target.value);const l={...Ne,description:e.target.value};(0,ie.Oi)(Oe,l)},error:Boolean(Wl.description&&Ll.description),helperText:Wl.description&&Ll.description}),(0,me.jsxs)("div",{style:{display:"flex",width:"100%"},children:[(0,me.jsx)("span",{style:{marginRight:"10px",marginTop:"8px"},children:"Schedule:"}),(0,me.jsxs)(O.A,{row:!0,"aria-label":"schedule",name:"schedule",size:"small",onChange:async e=>{const l=await Rl.validateForm();if(e.target.value===xe.CJ.WEEKLY){const e={...l};delete e.scheduleDay,Rl.setErrors(e)}if(0===Object.keys(l).length||1===Object.keys(l).length&&!Object.keys(l).includes("name")){const l=e.target.value,d={...Ne,schedule:l};if(Vl("schedule",l),yl(l),(0,ie.Oi)(Oe,d),l===xe.CJ.NO_REPEAT)gl(!1);else{var s,t;Vl("schedule",l),gl(!0),Vl("scheduleStart",Yl.scheduleStart||(null===Ne||void 0===Ne||null===(s=Ne.scheduledOn)||void 0===s?void 0:s.scheduleStart)||new Date),Vl("scheduleEnd",Yl.scheduleEnd||(null===Ne||void 0===Ne||null===(t=Ne.scheduledOn)||void 0===t?void 0:t.scheduleEnd)||new Date),Pe(!1);const{scheduledOn:d}=Ne;if(d){const s={...d};e.target.value===xe.CJ.DAILY?(Vl("weekDay",""),Vl("scheduleDay",""),delete s.weekDay,delete s.monthDay,(0,ie.Oi)(Oe,{...Ne,schedule:l,scheduledOn:s})):e.target.value===xe.CJ.WEEKLY?(Vl("scheduleDay",""),delete s.monthDay,(0,ie.Oi)(Oe,{...Ne,schedule:l,scheduledOn:s})):e.target.value===xe.CJ.MONTHLY&&(Vl("weekDay",""),delete s.weekDay,(0,ie.Oi)(Oe,{...Ne,schedule:l,scheduledOn:s}))}}}else Rl.setTouched((0,x.dc)(l,!0)),Vl("schedule",xe.CJ.NO_REPEAT)},value:(null===Ne||void 0===Ne?void 0:Ne.schedule)||jl||xe.CJ.NO_REPEAT,children:[(0,me.jsx)(S.A,{value:"No Repeat",control:(0,me.jsx)(b.A,{size:"small"}),label:"No Repeat"}),(0,me.jsx)(S.A,{value:"Daily",control:(0,me.jsx)(b.A,{size:"small"}),label:"Daily"}),(0,me.jsx)(S.A,{value:"Weekly",control:(0,me.jsx)(b.A,{size:"small"}),label:"Weekly"}),(0,me.jsx)(S.A,{value:"Monthly",control:(0,me.jsx)(b.A,{selected:!0,size:"small"}),label:"Monthly"})]})]})]}),Al&&(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)(D.A,{direction:"row",children:[(0,me.jsx)(D.A,{style:{width:"40%",paddingRight:"20px"},children:(0,me.jsx)(p.T,{renderInput:e=>(0,me.jsx)(w.A,{...e,size:"small",error:Boolean(Wl.scheduleStart&&Ll.scheduleStart),helperText:Wl.scheduleStart&&Ll.scheduleStart}),label:"Start",format:"dd-MM-yyyy",minDate:new Date,...ql("scheduleStart"),value:Yl.scheduleStart||(null===Ne||void 0===Ne||null===(r=Ne.scheduledOn)||void 0===r?void 0:r.scheduleStart),onChange:e=>{const l=ee()(e).format("MM/DD/YYYY")||Yl.scheduleStart;Vl("scheduleStart",l);const{scheduledOn:s}=Ne;if(s){const e={...s,scheduleStart:l};(0,ie.Oi)(Oe,{...Ne,schedule:Yl.schedule,scheduledOn:e})}else{const s={scheduleStart:l,scheduleEnd:ee()(e).format("MM/DD/YYYY")||Yl.scheduleEnd,time:ee()(e).format("HH:mm")};(0,ie.Oi)(Oe,{...Ne,schedule:Yl.schedule,scheduledOn:s})}}})}),(0,me.jsx)(D.A,{style:{width:"40%",paddingRight:"20px"},children:(0,me.jsx)(p.T,{renderInput:e=>(0,me.jsx)(w.A,{...e,size:"small",error:Boolean(Wl.scheduleEnd&&Ll.scheduleEnd),helperText:Wl.scheduleEnd&&Ll.scheduleEnd}),label:"End",format:"dd-MM-yyyy",minDate:new Date,...ql("scheduleEnd"),value:Yl.scheduleEnd||(null===Ne||void 0===Ne||null===(c=Ne.scheduledOn)||void 0===c?void 0:c.scheduleEnd),onChange:async e=>{const{scheduleStart:l}=Yl,s=ee()(e).format("MM/DD/YYYY")||Yl.scheduleEnd;Vl("scheduleEnd",s);const{scheduledOn:t}=Ne;if(t){const e={...t,scheduleStart:l,scheduleEnd:s};(0,ie.Oi)(Oe,{...Ne,schedule:Yl.schedule,scheduledOn:e})}else{const{scheduleStart:e}=Yl,l={scheduleStart:e,scheduleEnd:s};(0,ie.Oi)(Oe,{...Ne,schedule:Yl.schedule,scheduledOn:l})}const d=new Date(ee()(e).format("MM/DD/YYYY"))<new Date(l),n=await Rl.validateForm();0!==Object.keys(n).length?Rl.setTouched((0,x.dc)(n,!0)):d&&Rl.setTouched((0,x.dc)({scheduleEnd:"End date must be later than start date"},!0))}})}),Yl.schedule===xe.CJ.WEEKLY&&(0,me.jsxs)(w.A,{select:!0,size:"small",style:{width:"40%",paddingRight:"20px"},label:"Week Day",value:Yl.weekDay,...ql("weekDay"),SelectProps:{native:!0},onChange:Fl,onClick:Fl,error:Boolean(Wl.weekDay&&Ll.weekDay),helperText:Wl.weekDay&&Ll.weekDay,children:[(0,me.jsx)("option",{value:""}),Ae&&(null===Ae||void 0===Ae?void 0:Ae.map(e=>(0,me.jsx)("option",{value:e.week,children:e.day},e.week)))]}),Yl.schedule===xe.CJ.MONTHLY&&(0,me.jsxs)(w.A,{select:!0,size:"small",style:{width:"40%",paddingRight:"20px"},label:"Day",value:Yl.scheduleDay,...ql("scheduleDay"),SelectProps:{native:!0},onChange:async e=>{const l=e.target.value,{scheduledOn:s}=Ne;if(s){const e={...s,monthDay:l};Vl("weekDay",""),Vl("scheduleDay",l),delete e.weekDay,(0,ie.Oi)(Oe,{...Ne,schedule:Yl.schedule,scheduledOn:e})}else{const{scheduleStart:e,scheduleEnd:s}=Yl,t={scheduleStart:e,scheduleEnd:s,monthDay:l};(0,ie.Oi)(Oe,{...Ne,schedule:Yl.schedule,scheduledOn:t})}},error:Boolean(Wl.scheduleDay&&Ll.scheduleDay),helperText:Wl.scheduleDay&&Ll.scheduleDay,children:[(0,me.jsx)("option",{value:""}),ge&&(null===ge||void 0===ge?void 0:ge.map(e=>(0,me.jsx)("option",{value:e,children:e},e)))]}),(0,me.jsx)(D.A,{style:{width:"40%",paddingLeft:"20px"},children:(0,me.jsx)(j.o,{orientation:"portrait",label:"Hours and Minutes",value:ml,onChange:e=>{(async e=>{const l=e;pl(e);const{scheduledOn:s}=Ne;if(s){const e={...s,time:l};(0,ie.Oi)(Oe,{...Ne,schedule:Yl.schedule,scheduledOn:e})}else{const{scheduleStart:e,scheduleEnd:s}=Yl,t={scheduleStart:e,scheduleEnd:s,time:l};(0,ie.Oi)(Oe,{...Ne,schedule:Yl.schedule,scheduledOn:t})}})(e)},renderInput:e=>(0,me.jsx)(w.A,{...e,size:"small",fullWidth:!0})})})]})}),(0,me.jsx)(D.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,me.jsx)(C.A,{multiple:!0,freeSolo:!0,fullWidth:!0,size:"small",value:Yl.businessProcessTags,onChange:(e,l)=>{var s;let t=[];sl(l),0!==(null===l||void 0===l?void 0:l.length)&&(null===l||void 0===l||l.forEach(e=>{const l=Ce.filter(l=>l.businessProcess===e);t=[...t,...l]})),0!==(null===(s=t)||void 0===s?void 0:s.length)?(0,ae.IS)(Oe,t):0===(null===l||void 0===l?void 0:l.length)&&(0,ae.IS)(Oe,null)},options:Xe,disableCloseOnSelect:!0,getOptionLabel:e=>e,renderOption:(e,l,s)=>{let{selected:t}=s;return(0,me.jsxs)("li",{...e,children:[(0,me.jsx)(E.A,{icon:je,checkedIcon:ye,style:{marginRight:8},checked:t}),l]})},renderInput:e=>(0,me.jsx)(w.A,{...e,label:"Business Process"})})})]})})}),!Re&&(0,me.jsx)(g.Ay,{item:!0,xs:12,md:12,children:(0,me.jsxs)(D.A,{direction:"row",spacing:2,justifyContent:"flex-end",sx:{mt:3},children:[(0,me.jsx)(k.A,{variant:"outlined",startIcon:(0,me.jsx)(H.In,{icon:J.A}),onClick:()=>{_l(),Ge(!1),(0,ae.IS)(Oe,null)},children:"Add Module"}),0!==(null===Xe||void 0===Xe?void 0:Xe.length)&&(0,me.jsx)(k.A,{variant:"outlined",startIcon:(0,me.jsx)(H.In,{icon:J.A}),onClick:()=>{Ml(),Ge(!0)},children:"Retrieve Modules"})]})}),Re&&(0,me.jsx)(x.QI,{value:Jl,children:(0,me.jsx)(g.Ay,{item:!0,xs:12,md:12,style:{marginTop:"1rem"},children:(0,me.jsxs)(f.A,{sx:{p:3},style:{boxShadow:"0 0 10px #919eab",marginTop:"1rem"},children:[(0,me.jsxs)(D.A,{spacing:3,children:[(0,me.jsx)(pe,{style:{color:"#637381"},children:"Select Module"}),(0,me.jsxs)(D.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Qe,(0,me.jsxs)(w.A,{select:!0,fullWidth:!0,size:"small",label:"Modules",value:Yl.moduleIDs,placeholder:"Select Module",id:"module",SelectProps:{native:!0},onChange:async e=>{var l,s,t;const d=e.target.value,n=null===Ce||void 0===Ce?void 0:Ce.filter(e=>e._id===d)[0];Je(n),cl({});let i=[],o=["P1"];const a=["All"],r=["All"];null===n||void 0===n||null===(l=n.testNodes)||void 0===l||l.map(e=>{a.push(`${e.testNode[0].testCaseID} - ${e.testNode[0].testCaseTitle}`),r.push(`${e.testNode[0].testCaseID} - ${e.testNode[0].testCaseTitle}`);const l=e.testNode[0].tags,s=e.testNode[0].priority;return i=[...new Set([...i,...l])],s&&(o=[...new Set([...o,s])]),null}),Ve(a),Be(r),Me(i),ze(o),Ke(null===n||void 0===n?void 0:n.testPlaceholders);const c=[],u=null===be||void 0===be||null===(s=be.requestFiles)||void 0===s?void 0:s.map(e=>(console.log("apiRequestFile",e),`api - ${null===e||void 0===e?void 0:e.apiRequestName}`));console.log("module?.testPlaceholders",null===n||void 0===n?void 0:n.testPlaceholders),null===n||void 0===n||null===(t=n.testPlaceholders)||void 0===t||t.forEach(e=>{const l=Object.keys(e),s={};l.forEach(l=>{let t=null;t=u?[e[l],...fl,...u]:[e[l],...fl],s[l]=t}),c.push(s)}),console.log("testPlaceholdersWithOV",c),Ue(c),console.log("testPlaceholdersWithOV",c)},error:Boolean(Jl.touched.moduleIDs&&Jl.errors.moduleIDs),helperText:Jl.touched.moduleIDs&&Jl.errors.moduleIDs,children:[(0,me.jsx)("option",{value:""}),Ce&&!Qe&&(null===Ee||void 0===Ee?void 0:Ee.map(e=>(0,me.jsx)("option",{value:e._id,children:e.suiteName},e._id))),Ce&&Qe&&ke.map(e=>(0,me.jsx)("option",{value:e._id,children:e.suiteName},e._id))]})]}),(0,me.jsxs)(D.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[(0,me.jsx)(C.A,{multiple:!0,freeSolo:!0,fullWidth:!0,size:"small",defaultValue:_e,value:Yl.tags,onChange:async(e,l)=>{var s;const t=["All"];null===He||void 0===He||null===(s=He.testNodes)||void 0===s||s.forEach(e=>{const s=null===e||void 0===e?void 0:e.testNode[0].tags;null===s||void 0===s||s.forEach(s=>{null!==l&&void 0!==l&&l.includes(s)&&t.push(`${e.testNode[0].testCaseID} - ${e.testNode[0].testCaseTitle}`)})}),Be([...new Set(t)]),Le(l),Vl("tags",l)},options:_e,disableCloseOnSelect:!0,getOptionLabel:e=>e,renderOption:(e,l,s)=>{let{selected:t}=s;return(0,me.jsxs)("li",{...e,children:[(0,me.jsx)(E.A,{icon:je,checkedIcon:ye,style:{marginRight:8},checked:t}),l]})},renderInput:e=>(0,me.jsx)(w.A,{...e,label:"Tags"})}),(0,me.jsx)(C.A,{multiple:!0,freeSolo:!0,size:"small",fullWidth:!0,value:Yl.priority,onChange:async(e,l)=>{var s;const t=["All"];null===He||void 0===He||null===(s=He.testNodes)||void 0===s||s.forEach(e=>{const s=null===e||void 0===e?void 0:e.testNode[0].tags,d=null===e||void 0===e?void 0:e.testNode[0].priority;d&&(null===s||void 0===s||s.forEach(s=>{(Ye.includes(s)&&null!==l&&void 0!==l&&l.includes(d)||Ye.includes(s)&&0===(null===l||void 0===l?void 0:l.length))&&t.push(`${e.testNode[0].testCaseID} - ${e.testNode[0].testCaseTitle}`)}),Be([...new Set(t)]))})},options:null===We||void 0===We?void 0:We.map(e=>e),disableCloseOnSelect:!0,getOptionLabel:e=>e,renderOption:(e,l,s)=>{let{selected:t}=s;return(0,me.jsxs)("li",{...e,children:[(0,me.jsx)(E.A,{icon:je,checkedIcon:ye,style:{marginRight:8},checked:t}),l]})},renderInput:e=>(0,me.jsx)(w.A,{...e,label:"Priority"})})]}),(0,me.jsx)(D.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(null===$e||void 0===$e?void 0:$e.length)>0&&(0,me.jsx)(g.Ay,{item:!0,xs:12,md:12,style:{marginTop:"1rem"},children:(0,me.jsx)(C.A,{multiple:!0,size:"small",renderTags:()=>{let e=null===qe||void 0===qe?void 0:qe.length;return null!==qe&&void 0!==qe&&qe.includes("All")&&(e-=1),(0,me.jsxs)("span",{style:{paddingLeft:"5px"},children:[" ",e<0?0:e," Testcase(s) selected"]})},value:$e,options:$e&&(null===$e||void 0===$e?void 0:$e.map(e=>e)),disableCloseOnSelect:!0,getOptionLabel:e=>e,renderOption:(e,l)=>(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("li",{...e,children:[(0,me.jsx)(E.A,{indeterminate:"All"===l&&(qe.length>0&&qe.length<(null===$e||void 0===$e?void 0:$e.length)),icon:je,checkedIcon:ye,style:{marginRight:8},checked:null===qe||void 0===qe?void 0:qe.includes(l),value:l,onChange:Kl}),l]})}),renderInput:e=>(0,me.jsx)(w.A,{...e,label:"Test Cases"})})})})]}),Fe&&0!==(null===Fe||void 0===Fe?void 0:Fe.length)&&(0,me.jsx)(D.A,{spacing:3,children:(0,me.jsx)(D.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,me.jsx)(g.Ay,{item:!0,xs:12,md:12,style:{marginTop:"2rem"},children:(0,me.jsxs)(f.A,{style:{boxShadow:"0 0 10px #919eab"},children:[(0,me.jsx)(I.A,{title:"Execution Data",sx:{mb:3}}),(0,me.jsxs)(re.A,{children:[Fe&&1===(null===Fe||void 0===Fe?void 0:Fe.length)&&(0,me.jsx)(N.A,{sx:{maxHeight:300},children:(0,me.jsxs)(T.A,{children:[(0,me.jsx)(R.A,{children:(0,me.jsxs)(P.A,{children:[(0,me.jsx)(_.A,{children:"Key/Placeholder"}),(0,me.jsx)(_.A,{children:"Value"})]})}),(0,me.jsx)(M.A,{children:Object.keys(Fe[0])&&Object.keys(Fe[0]).map(e=>(0,me.jsxs)(P.A,{children:[(0,me.jsx)(_.A,{children:e}),(0,me.jsxs)(_.A,{children:[xe.Sv.includes(e)&&(0,me.jsx)(w.A,{required:!0,type:"password"===e?"password":"text",id:e,defaultValue:Fe[0][e],value:Fe[0][e],style:{height:"2rem",width:"50%"},SelectProps:{native:!0},onChange:l=>{(async(e,l)=>{const{value:s}=e.target,t=[...Fe];if(t[0]={...t[0],[l]:s},Ke(t),null!==fl&&void 0!==fl&&fl.includes(s)){const e=null===Ce||void 0===Ce?void 0:Ce.find(e=>e.suiteName===s.split("-")[0].trim());Ol(e._id)}})(l,e)}}),!xe.Sv.includes(e)&&(0,me.jsx)(C.A,{value:Ze[0][e][0],onChange:(l,s)=>{try{s=s.replace(/["]/g,"").replace("Add ",""),(async(e,l,s)=>{const t=Ze[0][l],d={...Ze[0],[l]:[...new Set([s,...t])]};Ue([d]);const n={...Fe[0],[l]:s};if(Ke([n]),null!==fl&&void 0!==fl&&fl.includes(s)){const e=null===Ce||void 0===Ce?void 0:Ce.find(e=>e.suiteName===s.split("-")[0].trim());Ol(e._id)}})(0,e,s)}catch(t){}},filterOptions:(e,l)=>{try{const s=Sl(e,l),{inputValue:t}=l,d=e.some(e=>t===e);return""===t||d||s.push(`Add "${t}"`),s}catch(s){}return null},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-demo",options:Ze[0][e],getOptionLabel:e=>{try{return"string"===typeof e||e.inputValue,e}catch(l){console.log("error",l)}return null},renderOption:(e,l)=>{const{key:s,...t}=e;return(0,me.jsx)("li",{...t,children:l},s)},sx:{width:300},freeSolo:!0,renderInput:e=>(0,me.jsx)(w.A,{...e})})]})]},e))})]})}),Fe&&(null===Fe||void 0===Fe?void 0:Fe.length)>1&&(0,me.jsx)(N.A,{sx:{minWidth:480,maxHeight:300},children:(0,me.jsxs)(T.A,{stickyHeader:!0,children:[(0,me.jsx)(R.A,{children:Fe&&(null===Fe||void 0===Fe?void 0:Fe.length)>0&&(0,me.jsxs)(P.A,{children:[Object.keys(Fe[0]).map(e=>(0,me.jsx)(_.A,{children:e},e)),(0,me.jsx)(_.A,{children:"Edit"})]})}),(0,me.jsx)(M.A,{children:Fe.map((e,l)=>e&&_e.length>0&&(0,me.jsxs)(P.A,{children:[Object.keys(e).map(s=>(0,me.jsx)(_.A,{children:"password"===s?(0,me.jsx)(w.A,{required:!0,type:"password"===s?"password":"text",id:s,defaultValue:e[s],style:{height:"2rem"},onChange:e=>{(async(e,l)=>{const{value:s}=e.target,t={...Fe,[l]:s};Ke(t)})(e,s)},inputProps:{readOnly:!0},sx:{"& fieldset":{border:"none"}}}):e[s]},`${s}${l}`)),(0,me.jsx)(_.A,{children:(0,me.jsx)(H.In,{icon:F.A,width:24,height:24,onClick:()=>{al(!ol),Ul(e,l)},cursor:"pointer"})})]},l))})]})})]})]})})})}),(0,me.jsxs)(D.A,{direction:"row",spacing:2,justifyContent:"flex-end",sx:{mt:3},children:[(0,me.jsx)(k.A,{variant:"outlined",onClick:_l,children:"Cancel"}),(0,me.jsx)(k.A,{variant:"contained",onClick:async()=>{const e=[],l=[];if(qe){var s,t,d,n;if("All"===qe[0]&&qe.length-1===(null===He||void 0===He||null===(s=He.testNodes)||void 0===s?void 0:s.length))null===He||void 0===He||null===(d=He.testNodes)||void 0===d||d.map(s=>(e.push(null===s||void 0===s?void 0:s._id),l.push(`${s.testNode[0].testCaseID} - ${s.testNode[0].testCaseTitle}`),null));else null===He||void 0===He||null===(n=He.testNodes)||void 0===n||n.map(s=>(null===qe||void 0===qe||qe.map(t=>{const d=t.split(" ")[0];let n=!1;return l.forEach(e=>{e.includes(d)&&(n=!0)}),d!==(null===s||void 0===s?void 0:s.testNode[0].testCaseID)||n||(e.push(null===s||void 0===s?void 0:s._id),l.push(`${s.testNode[0].testCaseID} - ${s.testNode[0].testCaseTitle}`)),null}),null));const a={};a.name=He.suiteName,a.moduleID=He._id,a.testNodes=e,a.testCaseIDs=l,a.tags=Yl.tags,a.dependsOn=wl,a.testPlaceholders=Fe;const r=[];var i;if(null===He||void 0===He||null===(t=He.outputVariables)||void 0===t||t.forEach(e=>{r.push(`${He.suiteName} - ${e}`)}),null!==be&&void 0!==be&&be.apiRequestFiles)null===(i=Object.keys(null===be||void 0===be?void 0:be.apiRequestFiles))||void 0===i||i.forEach(e=>{console.log("apiRequestFile",e),r.push(`api - ${e}`)});if(Dl(r),Ne){const{modules:s}=Ne,t={},d=null===s||void 0===s?void 0:s.findIndex(e=>e.name===He.suiteName);if(t.projectID=be._id,t.releaseName=Yl.name,t.description=Yl.description,t.version=Yl.version,t.releaseVersion=Yl.version,t.schedule=Yl.schedule||xe.CJ.NO_REPEAT,t.scheduledOn=Ne.scheduledOn,t.releaseDate=ee()(Yl.releaseDate).format("MM/DD/YYYY hh:mm:ss A"),-1!==d){const n=[];null===s||void 0===s||s.forEach((s,t)=>{let i=s;t===d&&(i={...i,testNodes:e,testCaseIDs:l}),n.push(i)}),t.modules=n}else{const e=[];null===s||void 0===s||s.forEach(l=>{e.push(l)}),e.push(a),t.modules=e}(0,ie.Oi)(Oe,t)}else{const e={};e.projectID=be._id,e.releaseName=Yl.name,e.description=Yl.description,e.version=Yl.version,e.releaseVersion=Yl.version,e.releaseDate=ee()(Yl.releaseDate).format("MM/DD/YYYY hh:mm:ss A"),e.schedule=Yl.schedule||xe.CJ.NO_REPEAT,e.scheduledOn=null===Ne||void 0===Ne?void 0:Ne.scheduledOn,e.modules=[a],(0,ie.Oi)(Oe,e)}if(He._id&&null!==Ne&&void 0!==Ne&&Ne.modules){var o;const e=null===Ne||void 0===Ne||null===(o=Ne.modules)||void 0===o?void 0:o.map(e=>e.moduleID);e.push(He._id);const l=null===Ce||void 0===Ce?void 0:Ce.filter(l=>!e.includes(l._id));(0,ae.AZ)(Oe,l)}Me([]),ze([]),Ve(null),Be(null),Ke(null),Pe(!1),Ol(null)}},children:"Add"})]})]})})}),!vl&&Ne&&(null===Ne||void 0===Ne?void 0:Ne.modules)&&0!==(null===Ne||void 0===Ne||null===(u=Ne.modules)||void 0===u?void 0:u.length)&&(0,me.jsxs)(g.Ay,{item:!0,xs:12,md:12,style:{marginTop:"1rem"},children:[(0,me.jsx)(pe,{style:{marginBottom:"1rem"},children:"Project Details"}),(0,me.jsx)(re.A,{children:(0,me.jsx)(ne.bT,{variants:ne.nC,children:null===Ne||void 0===Ne||null===(m=Ne.modules)||void 0===m?void 0:m.map((e,l)=>{var s,t,d,n,i;return(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,me.jsxs)(Y.A,{style:{width:"95%"},children:[(0,me.jsx)(L.A,{expandIcon:(0,me.jsx)(H.In,{icon:U.A,width:20,height:20}),style:{background:"linear-gradient(to right, #bdc3c7, #2c3e50)",borderRadius:4,marginBottom:"5px"},children:(0,me.jsx)(y.A,{variant:"subtitle1",children:e.name})}),(0,me.jsx)(W.A,{children:(0,me.jsx)(D.A,{spacing:3,children:(0,me.jsxs)(D.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[(null===e||void 0===e||null===(s=e.testCaseIDs)||void 0===s?void 0:s.length)>0&&(0,me.jsx)(g.Ay,{item:!0,xs:12,md:(null===e||void 0===e||null===(t=e.testPlaceholders)||void 0===t?void 0:t.length)>0?6:12,style:{marginTop:"1rem"},children:(0,me.jsxs)(f.A,{style:{boxShadow:"0 0 10px #919eab"},children:[(0,me.jsx)(I.A,{title:"Test Cases",sx:{mb:3}}),(0,me.jsx)(re.A,{children:(0,me.jsx)(N.A,{sx:{maxHeight:300},children:(0,me.jsx)(T.A,{children:(0,me.jsx)(M.A,{children:(null===e||void 0===e?void 0:e.testCaseIDs)&&(null===e||void 0===e?void 0:e.testCaseIDs.slice(0).map(e=>(0,me.jsx)(P.A,{children:(0,me.jsx)(_.A,{style:{padding:10,paddingLeft:"1.5rem"},children:e})},e.id)))})})})})]})}),(null===e||void 0===e?void 0:e.testPlaceholders)&&(null===e||void 0===e||null===(d=e.testPlaceholders)||void 0===d?void 0:d.length)>0&&(0,me.jsx)(g.Ay,{item:!0,xs:12,md:6,style:{marginTop:"1rem"},children:(0,me.jsxs)(f.A,{style:{boxShadow:"0 0 10px #919eab"},children:[(0,me.jsx)(I.A,{title:"Execution Data",sx:{mb:3}}),(0,me.jsxs)(re.A,{children:[1===(null===e||void 0===e||null===(n=e.testPlaceholders)||void 0===n?void 0:n.length)&&(0,me.jsx)(N.A,{sx:{maxHeight:300},children:(0,me.jsxs)(T.A,{children:[(0,me.jsx)(R.A,{children:(0,me.jsxs)(P.A,{children:[(0,me.jsx)(_.A,{children:"Key/Placeholder"}),(0,me.jsx)(_.A,{children:"Value"})]})}),(0,me.jsx)(M.A,{children:Object.keys(null===e||void 0===e?void 0:e.testPlaceholders[0])&&Object.keys(null===e||void 0===e?void 0:e.testPlaceholders[0]).map(l=>(0,me.jsx)(P.A,{children:(0,me.jsx)(_.A,{style:{padding:"5px 20px"},children:(0,me.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,me.jsx)("div",{style:{width:"50%",fontSize:"16px",fontWeight:"600",textTransform:"capitalize"},children:l}),(0,me.jsx)("div",{children:(0,me.jsx)(w.A,{required:!0,type:"password"===l?"password":"text",sx:{width:"100%","& .MuiOutlinedInput-root":{"& > fieldset":{border:"none"}}},id:l,defaultValue:null===e||void 0===e?void 0:e.testPlaceholders[0][l]})})]})})},l))})]})}),(null===e||void 0===e||null===(i=e.testPlaceholders)||void 0===i?void 0:i.length)>1&&(0,me.jsx)(N.A,{sx:{minWidth:480,maxHeight:300},children:(0,me.jsxs)(T.A,{stickyHeader:!0,children:[(0,me.jsx)(R.A,{children:(0,me.jsx)(P.A,{children:Object.keys(null===e||void 0===e?void 0:e.testPlaceholders[0]).map(e=>(0,me.jsx)(_.A,{children:e},e))})}),(0,me.jsx)(M.A,{children:null===e||void 0===e?void 0:e.testPlaceholders.map((e,l)=>e&&(0,me.jsxs)(P.A,{children:[Object.keys(e).map(s=>(0,me.jsx)(_.A,{children:"password"===s?(0,me.jsx)(w.A,{required:!0,type:"password"===s?"password":"text",id:s,defaultValue:e[s],style:{height:"2rem"},inputProps:{readOnly:!0},sx:{"& fieldset":{border:"none"}}},s):e[s]},`${s}${l}`)),(0,me.jsx)(_.A,{children:(0,me.jsx)(H.In,{icon:F.A,width:24,height:24,onClick:()=>{al(!ol),Ul(e,l)},cursor:"pointer"})})]},l))})]})})]})]})})]})})})]},e.id),(0,me.jsx)(H.In,{icon:G.A,width:24,height:24,style:{marginTop:"10px",marginLeft:"10px",cursor:"pointer"},onClick:()=>(e=>{const{modules:l}=Ne,s=[];null===l||void 0===l||l.forEach((l,t)=>{e!==t&&s.push(l)});const t={...Ne,modules:s};if(s){const e=null===s||void 0===s?void 0:s.map(e=>e.moduleID),l=null===Ce||void 0===Ce?void 0:Ce.filter(l=>!e.includes(l._id));(0,ae.AZ)(Oe,l)}(0,ie.Oi)(Oe,t)})(l)})]})})})})})]}),!vl&&Ne&&(null===Ne||void 0===Ne?void 0:Ne.modules)&&0!==(null===Ne||void 0===Ne||null===(K=Ne.modules)||void 0===K?void 0:K.length)&&(0,me.jsx)(g.Ay,{item:!0,xs:12,md:12,style:{marginTop:"1.5rem"},children:(0,me.jsxs)(D.A,{justifyContent:"center",alignItems:"center",direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[(0,me.jsx)(k.A,{variant:"outlined",onClick:async()=>{(0,ie.Oi)(Oe,null),bl(a.nB.release.allReleases)},children:"Cancel"}),(0,me.jsx)(k.A,{variant:"contained",type:"submit",disabled:$l,children:X?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(Q.A,{}),"Update"]}):(0,me.jsx)(me.Fragment,{children:"Create"})})]})})]}),vl&&(0,me.jsx)(ve.A,{}),(0,me.jsxs)(z.A,{open:nl,onClose:Cl,children:[(0,me.jsx)($.A,{id:"simple-dialog-title",children:"Release Info"}),(0,me.jsx)(V.A,{children:(0,me.jsxs)(q.A,{id:"alert-dialog-slide-description",children:[(0,me.jsx)("br",{}),(0,me.jsx)("br",{}),"Release Name with ",(0,me.jsxs)("b",{children:["[",Yl.name,"]"]})," already exists!!",(0,me.jsx)("br",{}),(0,me.jsx)("br",{}),"Please change Release Name"]})}),(0,me.jsx)(B.A,{children:(0,me.jsx)(k.A,{variant:"contained",onClick:Cl,children:"OK"})})]})]})}),(null===rl||void 0===rl?void 0:rl.testData)&&(0,me.jsxs)(z.A,{open:ol,onClose:Zl,children:[(0,me.jsx)($.A,{id:"edit-testdata-row",children:"Edit Test Data 1"}),(0,me.jsxs)(V.A,{children:[(0,me.jsx)(q.A,{id:"edit-testdata-row-description"}),(0,me.jsx)("form",{id:"save-test-data",onSubmit:e=>(e=>{e.preventDefault();const l=[...Fe];l[null===ul||void 0===ul?void 0:ul.index]=null===ul||void 0===ul?void 0:ul.testData,Ke(l)})(e),children:(0,me.jsx)(N.A,{sx:{minWidth:480,maxHeight:300},children:(0,me.jsx)(T.A,{children:(0,me.jsx)(M.A,{children:null===(Z=Object.keys(null===rl||void 0===rl?void 0:rl.testData))||void 0===Z?void 0:Z.map((e,l)=>(0,me.jsxs)(P.A,{children:[(0,me.jsx)(_.A,{style:{padding:"5px 20px"},children:(0,me.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,me.jsx)("div",{style:{width:"50%",fontSize:"16px",fontWeight:"600",textTransform:"capitalize"},children:e})})}),(0,me.jsxs)(_.A,{children:[xe.Sv.includes(e)&&(0,me.jsx)(w.A,{required:!0,type:"password"===e?"password":"text",id:e,defaultValue:Ze[null===rl||void 0===rl?void 0:rl.index][e],value:Ze[null===rl||void 0===rl?void 0:rl.index][e],style:{height:"2rem",width:"50%"},SelectProps:{native:!0},onChange:l=>{(async(e,l,s)=>{const{value:t}=e.target,d=[...Fe];if(d[s]={...d[s],[l]:t},Ke(d),null!==fl&&void 0!==fl&&fl.includes(t)){const e=null===Ce||void 0===Ce?void 0:Ce.find(e=>e.suiteName===t.split("-")[0].trim());e&&(d[s]={...d[s],dependsOn:e._id},Ke([...d]))}})(l,e,null===rl||void 0===rl?void 0:rl.index)}}),!xe.Sv.includes(e)&&(0,me.jsx)(C.A,{value:Ze[null===rl||void 0===rl?void 0:rl.index][e][0],onChange:(l,s)=>{try{s=s.replace(/["]/g,"").replace("Add ",""),(async(e,l,s)=>{const t=Ze[null===rl||void 0===rl?void 0:rl.index][l],d=(Ze[null===rl||void 0===rl?void 0:rl.index],new Set([s,...t]),[...Ze]);Ue(d);const n=[...Fe];if(n[null===rl||void 0===rl?void 0:rl.index]={...Fe[null===rl||void 0===rl?void 0:rl.index],[l]:s},Ke(n),null!==fl&&void 0!==fl&&fl.includes(s)){const e=null===Ce||void 0===Ce?void 0:Ce.find(e=>e.suiteName===s.split("-")[0].trim());Ol(e._id)}})(0,e,s)}catch(t){console.log("error",t)}},filterOptions:(e,l)=>{try{const s=Sl(e,l),{inputValue:t}=l,d=e.some(e=>t===e);return""===t||d||s.push(`Add "${t}"`),s}catch(s){}return null},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-demo",options:Ze[null===rl||void 0===rl?void 0:rl.index][e],getOptionLabel:e=>{try{return"string"===typeof e||e.inputValue,e}catch(l){console.log("error",l)}return null},renderOption:(e,l)=>{const{key:s,...t}=e;return(0,me.jsx)("li",{...t,children:l},s)},sx:{width:300},freeSolo:!0,renderInput:e=>(0,me.jsx)(w.A,{...e})})]})]},l))})})})})]}),(0,me.jsxs)(B.A,{children:[(0,me.jsx)(k.A,{form:"save-test-data",variant:"contained",type:"submit",onClick:Zl,children:"save"}),(0,me.jsx)(k.A,{variant:"contained",onClick:Zl,children:"cancel"})]})]})]})}var De=s(31802);function we(){const{themeStretch:e}=(0,r.A)(),l=(0,o.wA)(),{pathname:s}=(0,n.zy)(),{releaseId:h}=(0,n.g)(),{appendUrl:v}=(0,o.d4)(e=>e.user),{releaseList:x}=(0,o.d4)(e=>e.release),m=s.includes("edit"),p=null===x||void 0===x?void 0:x.find(e=>(0,d.kW)(e._id)===h),[j,y]=(0,t.useState)(null);return(0,t.useEffect)(()=>{l((0,ie.oT)()),p&&y(p),l((0,De.aU)())},[l,p]),(0,me.jsx)(c.A,{title:"Test Ensure",children:(0,me.jsxs)(i.A,{maxWidth:!e&&"xl",children:[(0,me.jsx)(u.A,{heading:m?"Edit release":"Create a new release",links:[{name:"Releases",href:(e=>{let l=e;return v&&(l=`${e}?${v}`),l})(a.nB.release.allReleases)},{name:m?null===j||void 0===j?void 0:j.releaseName:"New Release"}],info:"To create a release, you must be an administrator, or your role must have the privileges"}),(0,me.jsx)(fe,{isEdit:m,currentRelease:j})]})})}},36880:(e,l,s)=>{s.d(l,{A:()=>v});var t=s(53536),d=s(5748),n=s(11892),i=s(96446),o=s(85865),a=s(77739),r=s(17392),c=s(88446),u=s(76412),h=s(70579);function v(e){let{links:l,action:s,heading:v,info:x,moreLink:m=[],sx:p,...j}=e;return(0,h.jsxs)(i.A,{sx:{mb:5,...p},children:[(0,h.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,h.jsxs)(i.A,{sx:{flexGrow:1},children:[(0,h.jsxs)(i.A,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,h.jsx)(o.A,{variant:"h4",gutterBottom:!0,children:v}),(0,h.jsx)(a.A,{title:x,placement:"bottom",arrow:!0,children:(0,h.jsx)(r.A,{children:(0,h.jsx)(d.In,{icon:n.A,width:25,height:25})})})]}),(0,h.jsx)(u._5,{links:l,...j})]}),s&&(0,h.jsx)(i.A,{sx:{flexShrink:0},children:s})]}),(0,h.jsx)(i.A,{sx:{mt:2},children:(0,t.isString)(m)?(0,h.jsx)(c.A,{href:m,target:"_blank",variant:"body2",children:m}):m.map(e=>(0,h.jsx)(c.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e))})]})}}}]);
//# sourceMappingURL=6220.588e1b52.chunk.js.map