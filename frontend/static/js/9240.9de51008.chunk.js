(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[9240],{2990:(e,t,i)=>{"use strict";i.d(t,{nZ:()=>Y,jM:()=>R,_H:()=>F});var r=i(53536),s=i(5748),n=i(89488),o=i(51875),l=i(20901),a=i(23546),d=i(54119),c=i(34535),h=i(90310),u=i(63336),p=i(96446),x=i(85865),m=i(35721),v=i(37918),j=i(2050),g=i(48734),A=i(8266),y=i(67784),f=i(88911),b=i(42518),w=i(73338),C=i(76412),k=i(61882),N=i(99522),S=i(70579);const P=(0,c.Ay)("div")(e=>{let{theme:t}=e;return{outline:"none",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(5,1),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral,border:`1px dashed ${t.palette.grey[50032]}`,"&:hover":{opacity:.72,cursor:"pointer"},[t.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}});function R(e){let{error:t,showPreview:i=!0,files:c,onRemove:R,onRemoveAll:I,sx:q,...T}=e;const $=(null===c||void 0===c?void 0:c.length)>0,{getRootProps:D,getInputProps:B,isDragActive:U,isDragReject:O,fileRejections:z}=(0,n.VB)({multiple:!0,...T}),_="image/*"===(null===T||void 0===T?void 0:T.accept),F=()=>(0,S.jsx)(u.A,{variant:"outlined",sx:{py:1,px:2,mt:3,borderColor:"error.light",bgcolor:e=>(0,h.X4)(e.palette.error.main,.08)},children:z.map(e=>{let{file:t,errors:i}=e;const{path:r,size:s}=t;return(0,S.jsxs)(p.A,{sx:{my:1},children:[(0,S.jsxs)(x.A,{variant:"subtitle2",noWrap:!0,children:[r," - ",(0,w.tm)(s)]}),i.map(e=>(0,S.jsxs)(x.A,{variant:"caption",component:"p",children:["- ",e.message]},e.code))]},r)})});return(0,S.jsxs)(p.A,{sx:{width:"100%",...q},children:[(0,S.jsxs)(P,{...D(),sx:{...U&&{opacity:.72},...(O||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}},children:[(0,S.jsx)("input",{...B()}),(0,S.jsx)(N.E4,{sx:{width:220}}),(0,S.jsxs)(p.A,{sx:{p:3,ml:{md:2}},children:[(0,S.jsx)(x.A,{gutterBottom:!0,variant:"h5",children:"Drop or Select file"}),(0,S.jsxs)(x.A,{variant:"body2",sx:{color:"text.secondary"},children:["Drop files here or click\xa0",(0,S.jsx)(x.A,{variant:"body2",component:"span",sx:{color:"primary.main",textDecoration:"underline"},children:"browse"}),"\xa0through your machine"]}),_&&(0,S.jsx)(x.A,{variant:"body2",sx:{color:"text.secondary"},children:"Only image files are allowed."})]})]}),z.length>0&&(0,S.jsx)(F,{}),(0,S.jsx)(m.A,{disablePadding:!0,sx:{...$&&{my:3}},children:(0,S.jsx)(a.N,{children:null===c||void 0===c?void 0:c.map(e=>{const{name:t,size:n,preview:a}=e,c=(0,r.isString)(e)?e:t;return i?(0,S.jsxs)(v.Ay,{component:d.P.div,...k.xB,sx:{p:0,m:.5,width:80,height:80,borderRadius:1.5,overflow:"hidden",position:"relative",display:"inline-flex"},children:[(0,S.jsx)(u.A,{variant:"outlined",component:"img",src:(0,r.isString)(e)?e:a,sx:{width:"100%",height:"100%",objectFit:"cover",position:"absolute"}}),(0,S.jsx)(p.A,{sx:{top:6,right:6,position:"absolute"},children:(0,S.jsx)(C.ZM,{size:"small",onClick:()=>R(e),sx:{p:"2px",color:"common.white",bgcolor:e=>(0,h.X4)(e.palette.grey[900],.72),"&:hover":{bgcolor:e=>(0,h.X4)(e.palette.grey[900],.48)}},children:(0,S.jsx)(s.In,{icon:l.A})})})]},c):(0,S.jsxs)(v.Ay,{component:d.P.div,...k.xB,sx:{my:1,py:.75,px:2,borderRadius:1,border:e=>`solid 1px ${e.palette.divider}`,bgcolor:"background.paper"},children:[(0,S.jsx)(j.A,{children:(0,S.jsx)(s.In,{icon:o.A,width:28,height:28})}),(0,S.jsx)(g.A,{primary:(0,r.isString)(e)?e:t,secondary:(0,r.isString)(e)?"":(0,w.tm)(n),primaryTypographyProps:{variant:"subtitle2"},secondaryTypographyProps:{variant:"caption"}}),(0,S.jsx)(A.A,{children:(0,S.jsx)(C.ZM,{edge:"end",size:"small",onClick:()=>R(e),children:(0,S.jsx)(s.In,{icon:l.A})})})]},c)})})}),$&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(y.A,{id:"standard-helperText",label:`${null===c||void 0===c?void 0:c.length} files selected`,variant:"standard",disabled:!0,border:"none",sx:{"& fieldset":{border:"none"}}}),(0,S.jsxs)(f.A,{direction:"row",justifyContent:"flex-end",children:[(0,S.jsx)(b.A,{onClick:I,sx:{mr:1.5},children:"Remove all"}),(0,S.jsx)(b.A,{variant:"contained",sx:{display:"none"},children:"Upload files"})]})]})]})}var I=i(83462),q=i(35316),T=i(98533),$=i(29347),D=i(65043),B=i(33211),U=i(60949);const O=(0,c.Ay)("div")(e=>{let{theme:t}=e;return{outline:"none",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(0,0),borderRadius:t.shape.borderRadius,transition:t.transitions.create("padding"),backgroundColor:"#edf6fc",boxShadow:"0 0 1px #32749e",opacity:.85,"&:hover":{opacity:1,cursor:"pointer"},[t.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}}),z=(0,c.Ay)("div")(()=>({textAlign:"center",textDecoration:"underline",color:"#fff"})),_=(0,c.Ay)("div")(()=>({display:"flex"}));function F(e){let{error:t,isEdit:i,onDelete:r,onReplace:s,fileType:o,filePath:l,fileName:a,moduleID:d,file:c,sx:h,...u}=e;const[m,v]=(0,D.useState)(!1),{getRootProps:j,getInputProps:g,isDragActive:A,isDragReject:y}=(0,n.VB)({multiple:!1,accept:u.accept,onDrop:u.onDrop}),f=()=>{v(!1)};return(0,S.jsxs)(p.A,{sx:{...h,width:"100%",height:"150px"},children:[(0,S.jsxs)(O,{...j(),sx:{...A&&{opacity:.72},...(y||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}},children:[!c&&i&&(0,S.jsx)(z,{onClick:e=>{e.stopPropagation(),(async()=>{let e=null;try{if(e=await B.A.get(`${U.A.host}/api/projects/downloadModule/${d}/${o}/`,{responseType:"blob"}),e){const t=new Blob([e.data]),i=document.createElement("a");i.href=window.URL.createObjectURL(t),i.download=l,i.click()}}catch(t){console.log(e.data)}})()},children:(0,S.jsx)("span",{children:l})}),(0,S.jsxs)(_,{children:[(0,S.jsx)("input",{...g()}),(0,S.jsx)(N.E4,{sx:{marginLeft:"10px",height:"120px",width:"120px"}}),(0,S.jsx)(p.A,{sx:{p:2,ml:{md:2},paddingLeft:"0px",width:"100%",height:"140px",display:"flex",alignItems:"center",justifyContent:"center"},children:c||a?(0,S.jsxs)("div",{style:{width:"100%",padding:"10px 0px 0px 0px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,S.jsx)("filePath",{children:(null===c||void 0===c?void 0:c.name)||a}),(0,S.jsxs)("div",{style:{paddingTop:"20px",width:"150px",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,S.jsx)(b.A,{sx:{backgroundColor:"#32749e",height:"28px",padding:"5px 10px",color:"#fff"},onClick:e=>{e.stopPropagation(),s()},children:"Replace"}),null!==c&&void 0!==c&&c.name||a?(0,S.jsx)(b.A,{sx:{backgroundColor:"#32749e",height:"28px",padding:"5px 10px",color:"#fff"},onClick:e=>{e.stopPropagation(),v(!0)},children:"Delete"}):null]})]}):(0,S.jsxs)(x.A,{variant:"body2",sx:{color:"#000",fontSize:"16px",fontWeight:"bold"},children:["Drop files here OR click\xa0",(0,S.jsx)(x.A,{variant:"body2",component:"span",sx:{color:"#000",fontWeight:"bold",textDecoration:"underline"},children:"Browse"})]})})]})]}),(0,S.jsxs)(I.A,{open:m,onClose:f,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,S.jsx)(q.A,{children:(0,S.jsxs)(T.A,{id:"alert-dialog-description",children:[(0,S.jsx)("br",{}),"Are you sure want to delete this file ?"]})}),(0,S.jsxs)($.A,{children:[(0,S.jsx)(b.A,{onClick:()=>{r(),v(!1)},children:"Yes"}),(0,S.jsx)(b.A,{onClick:f,children:"No"})]})]})]})}var E=i(45518);const W=(0,c.Ay)("div")(e=>{let{theme:t}=e;return{width:144,height:144,margin:"auto",borderRadius:"50%",padding:t.spacing(1),border:`1px dashed ${t.palette.grey[50032]}`}}),L=(0,c.Ay)("div")({zIndex:0,width:"100%",height:"100%",outline:"none",display:"flex",overflow:"hidden",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center","& > *":{width:"100%",height:"100%"},"&:hover":{cursor:"pointer","& .placeholder":{zIndex:9}}}),M=(0,c.Ay)("div")(e=>{var t;let{theme:i}=e;return{display:"flex",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:null===(t=i.palette)||void 0===t?void 0:t.text.secondary,backgroundColor:i.palette.background.neutral,transition:i.transitions.create("opacity",{easing:i.transitions.easing.easeInOut,duration:i.transitions.duration.shorter}),"&:hover":{opacity:.72}}});function Y(e){let{error:t,file:i,caption:o,sx:l,...a}=e;const{getRootProps:d,getInputProps:c,isDragActive:m,isDragReject:v,fileRejections:j}=(0,n.VB)({multiple:!1,...a}),g=()=>(0,S.jsx)(u.A,{variant:"outlined",sx:{py:1,px:2,my:2,borderColor:"error.light",bgcolor:e=>(0,h.X4)(e.palette.error.main,.08)},children:j.map(e=>{let{file:t,errors:i}=e;const{path:r,size:s}=t;return(0,S.jsxs)(p.A,{sx:{my:1},children:[(0,S.jsxs)(x.A,{variant:"subtitle2",noWrap:!0,children:[r," - ",(0,w.tm)(s)]}),i.map(e=>(0,S.jsxs)(x.A,{variant:"caption",component:"p",children:["- ",e.message]},e.code))]},r)})});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(W,{sx:l,children:(0,S.jsxs)(L,{...d(),sx:{...m&&{opacity:.72},...(v||t)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}},children:[(0,S.jsx)("input",{...c()}),i&&(0,S.jsx)(p.A,{component:"img",alt:"avatar",src:(0,r.isString)(i)?i:i.preview,sx:{zIndex:8,objectFit:"cover"}}),(0,S.jsxs)(M,{className:"placeholder",sx:{...i&&{opacity:0,color:"common.white",bgcolor:"grey.900","&:hover":{opacity:.72}}},children:[(0,S.jsx)(p.A,{component:s.In,icon:E.A,sx:{width:24,height:24,mb:1}}),(0,S.jsx)(x.A,{variant:"caption",children:i?"Update photo":"Upload photo"})]})]})}),o,j.length>0&&(0,S.jsx)(g,{})]})}},11892:(e,t)=>{t.A={width:24,height:24,body:'<g id="evaInfoOutline0"><g id="evaInfoOutline1"><g id="evaInfoOutline2" fill="currentColor"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8a8 8 0 0 1-8 8Z"/><circle cx="12" cy="8" r="1"/><path d="M12 10a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-1-1Z"/></g></g></g>'}},19042:(e,t,i)=>{"use strict";i.d(t,{A:()=>y});var r=i(98587),s=i(58168),n=i(65043),o=i(58387),l=i(98610),a=i(67266),d=i(6803),c=i(33064),h=i(34535),u=i(98206),p=i(42208),x=i(70579);const m=["className","color","edge","size","sx"],v=(0,h.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.edge&&t[`edge${(0,d.A)(i.edge)}`],t[`size${(0,d.A)(i.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${p.A.thumb}`]:{width:16,height:16},[`& .${p.A.switchBase}`]:{padding:4,[`&.${p.A.checked}`]:{transform:"translateX(16px)"}}}}]}),j=(0,h.Ay)(c.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.switchBase,{[`& .${p.A.input}`]:t.input},"default"!==i.color&&t[`color${(0,d.A)(i.color)}`]]}})(e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${p.A.checked}`]:{transform:"translateX(20px)"},[`&.${p.A.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${p.A.checked} + .${p.A.track}`]:{opacity:.5},[`&.${p.A.disabled} + .${p.A.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:""+("light"===t.palette.mode?.12:.2)},[`& .${p.A.input}`]:{left:"-100%",width:"300%"}}},e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,a.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[i]=e;return{props:{color:i},style:{[`&.${p.A.checked}`]:{color:(t.vars||t).palette[i].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[i].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,a.X4)(t.palette[i].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${p.A.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${i}DisabledColor`]:`${"light"===t.palette.mode?(0,a.a)(t.palette[i].main,.62):(0,a.e$)(t.palette[i].main,.55)}`}},[`&.${p.A.checked} + .${p.A.track}`]:{backgroundColor:(t.vars||t).palette[i].main}}}})]}}),g=(0,h.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:""+("light"===t.palette.mode?.38:.3)}}),A=(0,h.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}}),y=n.forwardRef(function(e,t){const i=(0,u.b)({props:e,name:"MuiSwitch"}),{className:n,color:a="primary",edge:c=!1,size:h="medium",sx:y}=i,f=(0,r.A)(i,m),b=(0,s.A)({},i,{color:a,edge:c,size:h}),w=(e=>{const{classes:t,edge:i,size:r,color:n,checked:o,disabled:a}=e,c={root:["root",i&&`edge${(0,d.A)(i)}`,`size${(0,d.A)(r)}`],switchBase:["switchBase",`color${(0,d.A)(n)}`,o&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},h=(0,l.A)(c,p.n,t);return(0,s.A)({},t,h)})(b),C=(0,x.jsx)(A,{className:w.thumb,ownerState:b});return(0,x.jsxs)(v,{className:(0,o.A)(w.root,n),sx:y,ownerState:b,children:[(0,x.jsx)(j,(0,s.A)({type:"checkbox",icon:C,checkedIcon:C,ref:t,ownerState:b},f,{classes:(0,s.A)({},w,{root:w.switchBase})})),(0,x.jsx)(g,{className:w.track,ownerState:b})]})})},36880:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var r=i(53536),s=i(5748),n=i(11892),o=i(96446),l=i(85865),a=i(77739),d=i(17392),c=i(88446),h=i(76412),u=i(70579);function p(e){let{links:t,action:i,heading:p,info:x,moreLink:m=[],sx:v,...j}=e;return(0,u.jsxs)(o.A,{sx:{mb:5,...v},children:[(0,u.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,u.jsxs)(o.A,{sx:{flexGrow:1},children:[(0,u.jsxs)(o.A,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,u.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:p}),(0,u.jsx)(a.A,{title:x,placement:"bottom",arrow:!0,children:(0,u.jsx)(d.A,{children:(0,u.jsx)(s.In,{icon:n.A,width:25,height:25})})})]}),(0,u.jsx)(h._5,{links:t,...j})]}),i&&(0,u.jsx)(o.A,{sx:{flexShrink:0},children:i})]}),(0,u.jsx)(o.A,{sx:{mt:2},children:(0,r.isString)(m)?(0,u.jsx)(c.A,{href:m,target:"_blank",variant:"body2",children:m}):m.map(e=>(0,u.jsx)(c.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e))})]})}},42208:(e,t,i)=>{"use strict";i.d(t,{A:()=>o,n:()=>n});var r=i(92532),s=i(72372);function n(e){return(0,s.Ay)("MuiSwitch",e)}const o=(0,r.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"])},73338:(e,t,i)=>{"use strict";i.d(t,{IG:()=>o,Rn:()=>a,kB:()=>l,pA:()=>c,tm:()=>d});var r=i(53536),s=i(79328),n=i.n(s);function o(e){return n()(e/100).format("0.0%")}function l(e){return n()(e).format()}function a(e){return(0,r.replace)(n()(e).format("0.00a"),".00","")}function d(e){return n()(e).format("0.0 b")}function c(e,t){return n()(e/t).format("0.0%")}},89240:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>H});var r=i(65043),s=i(73216),n=i(19252),o=i(15285),l=i(48407),a=i(11737),d=i(96221),c=i(36880),h=i(80899),u=i(46987),p=i(86897),x=i(5748),m=i(72812),v=i(68903),j=i(12110),g=i(88911),A=i(67784),y=i(74605),f=i(19042),b=i(85865),w=i(23609),C=i(90889),k=i(86605),N=i(40710),S=i(96446),P=i(35721),R=i(37918),I=i(38968),q=i(48734),T=i(83462),$=i(26600),D=i(35316),B=i(98533),U=i(29347),O=i(42518),z=i(39487),_=i(86213),F=i(88930),E=i(5963),W=i(11708),L=i(88324),M=i(2990),Y=i(77137),V=i(70579);function X(e){var t,i,n,a,d,c,X,J,Z,H,G,K,Q;let{isEdit:ee,currentUser:te,currentProject:ie,userList:re}=e;const se=(0,s.Zp)(),{enqueueSnackbar:ne}=(0,u.dh)(),oe=(0,o.wA)(),[le,ae]=(0,r.useState)([]),[de,ce]=(0,r.useState)([]),[he,ue]=(0,r.useState)(null),[pe,xe]=(0,r.useState)({}),[me,ve]=(0,r.useState)(""),[je,ge]=(0,r.useState)({}),[Ae,ye]=(0,r.useState)([]),{appendUrl:fe}=(0,o.d4)(e=>e.user),{projectList:be,companyStatusProjectList:we,templatesList:Ce}=(0,o.d4)(e=>e.project),[ke,Ne]=(0,r.useState)(""),[Se,Pe]=(0,r.useState)(!1),[Re,Ie]=(0,r.useState)({}),[qe,Te]=(0,r.useState)([]),[$e,De]=(0,r.useState)([]),[Be,Ue]=(0,r.useState)([]),[Oe,ze]=(0,r.useState)(!1),_e=(0,r.useRef)([]),Fe=(0,r.useRef)([]),Ee=e=>{se((e=>{let t=e;return fe&&(t=`${e}?${fe}`),t})(e))},We=()=>{Pe(!1)},Le=h.Ik().shape({name:h.Yj().required("Project Name is required"),template:h.Yj().required("Automation Name is required"),validateCredential:h.zM(),apiCredentialName:h.Yj().when("validateCredential",{is:!0,then:e=>e.min(3,"API Credential Name should be more than 3 characters").required("API Credential Name is required").matches(/^\S*$/,"API Credential Name cannot contain spaces"),otherwise:e=>e.notRequired()}),accessTokenUrl:h.Yj().when("validateCredential",{is:!0,then:e=>e.required("Access Token Url is required"),otherwise:e=>e.notRequired()}),clientID:h.Yj().when("validateCredential",{is:!0,then:e=>e.required("Client ID is required"),otherwise:e=>e.notRequired()}),clientSecret:h.Yj().when("validateCredential",{is:!0,then:e=>e.required("Client Secret is required"),otherwise:e=>e.notRequired()}),apiUserName:h.Yj().when("validateCredential",{is:!0,then:e=>e.required("API Username is required"),otherwise:e=>e.notRequired()}),apiPassword:h.Yj().when("validateCredential",{is:!0,then:e=>e.required("API Password is required"),otherwise:e=>e.notRequired()}),apiCookie:h.Yj().when("validateCredential",{is:!0,then:e=>e.required("API Cookie is required"),otherwise:e=>e.notRequired()}),validateAddAPIRequest:h.zM(),apiRequestName:h.Yj().when("validateAddAPIRequest",{is:!0,then:e=>e.required("API Request Name is required"),otherwise:e=>e.notRequired()}),credentials:h.Yj().when("validateAddAPIRequest",{is:!0,then:e=>e.required("Credentials is required"),otherwise:e=>e.notRequired()}),requestType:h.Yj().when("validateAddAPIRequest",{is:!0,then:e=>e.required("Request Type is required"),otherwise:e=>e.notRequired()})}),Me=(0,r.useCallback)((e,t)=>{try{if(0===t.length){const t=e[0];if(t){ue({...t,preview:URL.createObjectURL(t)});const e=t.name;if(ve(e),e.includes(".json")){const e=new FileReader;e.readAsText(t),e.onload=async e=>{const t=e.target.result;if(t.includes("suiteName")&&!t.includes("suiteNames"))Ne("You have uploaded Project module. Please verify and upload default JSON!!"),Ve();else try{Ne("");const e=JSON.parse(t);null!==e&&void 0!==e&&e.testCaseSteps&&ge(null===e||void 0===e?void 0:e.testCaseSteps),null!==e&&void 0!==e&&e.suiteNames&&ye(null===e||void 0===e?void 0:e.suiteNames)}catch(i){Ne("There is some issue with uploaded default json. Please verify and upload valid default JSON!!"),Ve()}}}}else Ne("Please upload json file"),ge({}),ye([])}else Ne("There is some issue with uploaded default json. Please verify and upload valid default JSON!!")}catch(i){console.log("err",i)}},[]),Ye=(0,r.useCallback)((e,t)=>{try{if(0===t.length){const t={};e.forEach(e=>{const i=e;if(i){xe({...i,preview:URL.createObjectURL(i)});const e=i.name,r=i.type;if(e.includes(".xml")||e.includes(".json")){const s=new FileReader;s.readAsText(i),s.onload=async i=>{const s=i.target.result;if($e.push({name:e,body:s,fileType:r}),t[e.replace(".xml","").replace(".json","")]=s,s.includes("<?xml")||s.includes("{"));else try{Ne("");const t=JSON.parse(s);$e.push({name:e,body:t})}catch(n){}}}xe(t)}else Ne("Please upload json or xml file")})}else Ne("Issue with uploaded file")}catch(i){console.log("err",i)}},[$e]),Ve=()=>{ue(null),ve(null),ge({}),ye([])},Xe=e=>{const t=document.createElement("input");t.type="file",t.accept=e,t.onchange=()=>{Array.from(t.files)},t.click()},Je=async()=>{var e;let t=await(0,_.A)({method:"post",url:`${F.A.projects.checkProjectNameExists}`,headers:{Authorization:`Bearer ${(0,E.qt)("accessToken")}`},data:{projectName:Ke.name,company:te.company._id}});if(t=null===(e=t)||void 0===e?void 0:e.data,t&&!ee)Pe(!0);else{var i,r,s;const e=[te._id],t=[];Ke.team.map(t=>{const i=null===re||void 0===re?void 0:re.find(e=>e.firstName===t.split(" ")[0]&&e.lastName===t.split(" ")[1]&&e._id!==te._id);return void 0!==i&&e.push(null===i||void 0===i?void 0:i._id),()=>{}});try{var n,o;if(Array.isArray(null===Ke||void 0===Ke?void 0:Ke.emailNotifications))null===Ke||void 0===Ke||null===(o=Ke.emailNotifications)||void 0===o||o.map(e=>{const i=null===re||void 0===re?void 0:re.find(t=>t.firstName===e.split(" ")[0]&&t.lastName===e.split(" ")[1]&&t._id!==te._id);return void 0!==i&&t.push(null===i||void 0===i?void 0:i._id),()=>{}});null!==Ke&&void 0!==Ke&&null!==(n=Ke.emailNotifications)&&void 0!==n&&n.includes(null===te||void 0===te?void 0:te._id)||t.push(null===te||void 0===te?void 0:te._id)}catch(l){console.log("error",l)}const a={name:Ke.name,description:Ke.description,status:Ke.status?L.A.CLOSED:L.A.ACTIVE,company:te.company,team:e,emailNotifications:t,modules:[],apiCreds:qe,apiRequestFiles:pe,requestFiles:Be,createdBy:te._id,email:te.email,templateID:Ke.template,testCaseSteps:ee&&je&&0===(null===(i=Object.keys(je))||void 0===i?void 0:i.length)&&(null===(r=Object.keys(null===ie||void 0===ie?void 0:ie.testCaseSteps))||void 0===r?void 0:r.length)>0?null===ie||void 0===ie?void 0:ie.testCaseSteps:je,suiteNames:ee&&0===(null===Ae||void 0===Ae?void 0:Ae.length)&&(null===ie||void 0===ie||null===(s=ie.suiteNames)||void 0===s?void 0:s.length)>0?null===ie||void 0===ie?void 0:ie.suiteNames:Ae};ee?(0,W.qe)(oe,a,ie._id):(0,W.cJ)(oe,a),Ze()}},Ze=()=>{var e;oe((0,W.lq)(L.A.UNARCHIVED,null===te||void 0===te||null===(e=te.company)||void 0===e?void 0:e._id))},He=(0,r.useCallback)(()=>{oe((0,W.oD)())},[oe]);(0,r.useEffect)(()=>{const e=[];if(void 0!==ie){var t,i;null===ie||void 0===ie||null===(t=ie.team)||void 0===t||t.map(t=>{const i=null===re||void 0===re?void 0:re.find(e=>e._id===t),r=`${null===i||void 0===i?void 0:i.firstName} ${null===i||void 0===i?void 0:i.lastName}`;return i&&r&&(e.push(r),ae(e),_e.current=e),()=>{}});const r=[];null===ie||void 0===ie||null===(i=ie.emailNotifications)||void 0===i||i.map(e=>{const t=null===re||void 0===re?void 0:re.find(t=>t._id===e),i=`${null===t||void 0===t?void 0:t.firstName} ${null===t||void 0===t?void 0:t.lastName}`;return t&&i&&(r.push(i),rt("emailNotifications",r),Fe.current=r),()=>{}}),null!==ie&&void 0!==ie&&ie.apiCreds&&Te(null===ie||void 0===ie?void 0:ie.apiCreds),null!==ie&&void 0!==ie&&ie.requestFiles&&Ue(null===ie||void 0===ie?void 0:ie.requestFiles)}ye([]),ge([]),He()},[oe,ie,He,re]);const Ge=(0,p.Wx)({enableReinitialize:!0,initialValues:{name:(null===ie||void 0===ie?void 0:ie.name)||"",description:(null===ie||void 0===ie?void 0:ie.description)||"",status:"CLOSED"===(null===ie||void 0===ie?void 0:ie.status),globalValue:(null===ie||void 0===ie?void 0:ie.globalValue)||!1,team:(null===le||void 0===le?void 0:le.length)>0&&le||[`${te.firstName} ${te.lastName}`],emailNotifications:[],template:(null===ie||void 0===ie?void 0:ie.templateID)||"",apiCreds:(null===ie||void 0===ie?void 0:ie.apiCreds)||"",apiCredentialName:"",accessTokenUrl:"",clientID:"",clientSecret:"",apiUserName:"",apiPassword:"",apiCookie:"",apiRequestName:"",credentials:"",requestType:""},validationSchema:Le,validateOnChange:!0,onSubmit:async(e,t)=>{let{setSubmitting:i,resetForm:r,setErrors:s}=t;try{await Je(),i(!1);(null===be||void 0===be?void 0:be.find(t=>t.name.toLowerCase()===e.name.toLowerCase()))&&!ee||(r(),ne(ee?"Project changes saved":"Project created successfully",{variant:"success"}),Ee(l.nB.project.allProjects))}catch(n){i(!1),s(n)}}}),{values:Ke,errors:Qe,touched:et,handleSubmit:tt,isSubmitting:it,setFieldValue:rt,getFieldProps:st}=Ge;return(0,V.jsx)(p.QI,{value:Ge,children:(0,V.jsx)(p.lV,{noValidate:!0,autoComplete:"off",onSubmit:tt,children:(0,V.jsx)(v.Ay,{container:!0,spacing:3,children:(0,V.jsx)(v.Ay,{item:!0,xs:12,md:12,children:(0,V.jsxs)(j.A,{sx:{p:3},children:[(0,V.jsxs)(g.A,{spacing:3,children:[(0,V.jsx)(g.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,V.jsx)(A.A,{size:"small",fullWidth:!0,disabled:ee,label:"Project Name",...st("name"),error:Boolean(et.name&&Qe.name),helperText:et.name&&Qe.name})}),(0,V.jsx)(g.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,V.jsx)(A.A,{size:"small",fullWidth:!0,multiline:!0,rows:4,label:"Description",...st("description"),error:Boolean(et.description&&Qe.description),helperText:et.description&&Qe.description})}),(0,V.jsx)(g.A,{children:(0,V.jsx)(y.A,{labelPlacement:"start",control:(0,V.jsx)(f.A,{...st("status"),checked:Ke.status}),label:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(b.A,{variant:"subtitle2",sx:{mb:.5},children:"Project Status"}),(0,V.jsx)(b.A,{variant:"body2",sx:{color:"text.secondary"},children:"Enabling this will close the Project and no actions can be performed."})]}),sx:{mx:0,width:1,justifyContent:"space-between"}})}),(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Access Permissions"}),(0,V.jsxs)(g.A,{children:[(0,V.jsx)(A.A,{style:{opacity:0,height:0,position:"absolute"}}),(0,V.jsx)(A.A,{style:{opacity:0,height:0,position:"absolute"},tabIndex:0}),(0,V.jsx)(w.A,{multiple:!0,open:Oe,onClose:()=>ze(!1),value:(null===Ke||void 0===Ke?void 0:Ke.team)||[],onChange:(e,t)=>{if(ee){if(0===t.length){const e=re.find(e=>e._id===ie.createdBy);if(e){const t=`${e.firstName} ${e.lastName}`;return rt("team",[t]),_e.current=[t],void ne("Project creator can't be removed from the team.",{variant:"warning"})}}const e=_e.current.filter(e=>!t.includes(e));if(e.length>0){const t=e[0],i=re.find(e=>`${e.firstName} ${e.lastName}`===t);if(i&&i._id===ie.createdBy)return void ne("Project creator can't be removed from the team.",{variant:"warning"})}_e.current=t}rt("team",t)},options:re&&(null===re||void 0===re?void 0:re.map(e=>`${null===e||void 0===e?void 0:e.firstName} ${null===e||void 0===e?void 0:e.lastName}`)),openOnFocus:!1,autoHighlight:!1,renderInput:e=>(0,V.jsx)(A.A,{...e,label:"Select Users",onClick:()=>ze(e=>!e)})})]}),(0,V.jsxs)(g.A,{spacing:2,sx:{width:1},children:[(0,V.jsx)(g.A,{spacing:1,alignItems:"flex-start",children:(0,V.jsx)(y.A,{control:(0,V.jsx)(f.A,{...st("globalValue"),checked:Ke.globalValue}),label:(0,V.jsx)(b.A,{variant:"subtitle2",sx:{mb:.5},children:"Automatically add users with their default role to this project"}),sx:{mx:0}})}),(0,V.jsx)(g.A,{children:(0,V.jsxs)(A.A,{select:!0,fullWidth:!0,size:"small",label:"Automation",value:Ke.template||"",InputLabelProps:{shrink:(nt="template",!(null===Ke||void 0===Ke||!Ke[nt]))},placeholder:"Select Automation Project",id:"template",...st("template"),SelectProps:{native:!0},error:Boolean(et.template&&Qe.template),helperText:et.template&&Qe.template,children:[(0,V.jsx)("option",{value:""}),Ce&&(null===Ce||void 0===Ce?void 0:Ce.map(e=>(0,V.jsx)("option",{value:e._id,children:e.name},e._id)))]})}),(0,V.jsxs)(C.A,{style:{width:"100%"},classes:{root:{height:"15px"}},children:[(0,V.jsx)(k.A,{expandIcon:(0,V.jsx)(x.In,{icon:z.A,width:20,height:20}),style:{background:"linear-gradient(to right, #bdc3c7, #2c3e50)",borderRadius:4,marginBottom:"5px"},children:(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Add API Details"})}),(0,V.jsx)(N.A,{children:(0,V.jsxs)(g.A,{spacing:3,children:[qe&&(null===(t=Object.keys(qe))||void 0===t?void 0:t.length)>0&&(0,V.jsxs)(g.A,{children:[(0,V.jsx)(b.A,{children:"Credentials"}),null===qe||void 0===qe?void 0:qe.map(e=>{var t;return(0,V.jsx)(j.A,{sx:{p:3},children:null===(t=Object.keys(e))||void 0===t?void 0:t.map(t=>(0,V.jsxs)(g.A,{direction:"row",spacing:2,children:[(0,V.jsx)(g.A,{style:{width:"15%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t}),(0,V.jsx)(g.A,{style:{width:"5%"},children:":"}),(0,V.jsx)(g.A,{style:{width:"80%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"apiCredentialName"===t?e[t]:"*".repeat(e[t].length)})]},e))},e)})]}),(0,V.jsxs)(C.A,{style:{width:"100%"},classes:{root:{height:"15px"}},children:[(0,V.jsx)(k.A,{expandIcon:(0,V.jsx)(x.In,{icon:z.A,width:20,height:20}),style:{background:"linear-gradient(to right, #bdc3c7, #2c3e50)",borderRadius:4,marginBottom:"5px"},onClick:()=>{rt("validateCredential",!Ge.values.validateCredential)},children:(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Add Credentials"})}),(0,V.jsx)(N.A,{children:(0,V.jsxs)(g.A,{spacing:3,children:[(0,V.jsx)(g.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,V.jsx)(A.A,{size:"small",fullWidth:!0,label:"API Credential Name",...st("apiCredentialName"),error:Boolean(et.apiCredentialName&&Qe.apiCredentialName),helperText:et.apiCredentialName&&Qe.apiCredentialName})}),(0,V.jsx)(g.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,V.jsx)(A.A,{size:"small",fullWidth:!0,label:"Access Token Url",type:"Password",...st("accessTokenUrl"),error:Boolean(et.accessTokenUrl&&Qe.accessTokenUrl),helperText:et.accessTokenUrl&&Qe.accessTokenUrl})}),(0,V.jsx)(g.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,V.jsx)(A.A,{size:"small",fullWidth:!0,label:"Client ID",type:"Password",...st("clientID"),error:Boolean(et.clientID&&Qe.clientID),helperText:et.clientID&&Qe.clientID})}),(0,V.jsx)(g.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,V.jsx)(A.A,{size:"small",fullWidth:!0,label:"Client Secret",type:"Password",...st("clientSecret"),error:Boolean(et.clientSecret&&Qe.clientSecret),helperText:et.clientSecret&&Qe.clientSecret})}),(0,V.jsx)(g.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,V.jsx)(A.A,{size:"small",fullWidth:!0,label:"Username",type:"Password",...st("apiUserName"),error:Boolean(et.apiUserName&&Qe.apiUserName),helperText:et.apiUserName&&Qe.apiUserName})}),(0,V.jsx)(g.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,V.jsx)(A.A,{size:"small",fullWidth:!0,label:"Password",type:"Password",...st("apiPassword"),error:Boolean(et.apiPassword&&Qe.apiPassword),helperText:et.apiPassword&&Qe.apiPassword})}),(0,V.jsx)(g.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,V.jsx)(A.A,{size:"small",fullWidth:!0,label:"Cookie",type:"Password",...st("apiCookie"),error:Boolean(et.apiCookie&&Qe.apiCookie),helperText:et.apiCookie&&Qe.apiCookie})}),(0,V.jsx)(S.A,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:(0,V.jsx)(m.A,{type:"button",variant:"contained",loading:it,onClick:()=>{if(0===Object.keys(Qe).length){const e={apiCredentialName:Ke.apiCredentialName,accessTokenUrl:Ke.accessTokenUrl,clientID:Ke.clientID,clientSecret:Ke.clientSecret,apiUserName:Ke.apiUserName,apiPassword:Ke.apiPassword,apiCookie:Ke.apiCookie};qe.some(t=>t.apiCredentialName===e.apiCredentialName)?Ge.setFieldError("apiCredentialName","This API Credential Name already exists."):(Ie(e),qe.push(e),rt("apiCredentialName",""),rt("accessTokenUrl",""),rt("clientID",""),rt("clientSecret",""),rt("apiUserName",""),rt("apiPassword",""),rt("apiCookie",""))}else Ge.setTouched((0,p.dc)(Qe,!0))},children:"Add Credentials"})})]})})]},"apiCreds"),(null===Be||void 0===Be?void 0:Be.length)>0&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(b.A,{children:"API Requests "}),(0,V.jsx)(j.A,{sx:{p:3},children:null===Be||void 0===Be?void 0:Be.map(e=>{var t;return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)(g.A,{direction:"row",spacing:3,children:[(0,V.jsxs)(g.A,{children:["API Request Name : ",null===e||void 0===e?void 0:e.apiRequestName]}),(0,V.jsxs)(g.A,{children:["Request File Name : ",null===e||void 0===e||null===(t=e.apiFiles)||void 0===t?void 0:t.map(e=>e.name).join(" ,")]}),(0,V.jsxs)(g.A,{children:["Request Type : ",null===e||void 0===e?void 0:e.requestType]})]})})})})]}),(0,V.jsxs)(C.A,{style:{width:"100%"},classes:{root:{height:"15px"}},children:[(0,V.jsx)(k.A,{expandIcon:(0,V.jsx)(x.In,{icon:z.A,width:20,height:20}),style:{background:"linear-gradient(to right, #bdc3c7, #2c3e50)",borderRadius:4,marginBottom:"5px"},onClick:()=>{rt("validateAddAPIRequest",!Ge.values.validateAddAPIRequest)},children:(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Add API Request"})}),(0,V.jsx)(N.A,{children:(0,V.jsxs)(g.A,{spacing:3,children:[(0,V.jsx)(g.A,{children:(0,V.jsx)(A.A,{size:"small",fullWidth:!0,SelectProps:{native:!0},label:"API Request Name",...st("apiRequestName"),error:Boolean(et.apiRequestName&&Qe.apiRequestName),helperText:et.apiRequestName&&Qe.apiRequestName})}),(0,V.jsx)(g.A,{children:(0,V.jsxs)(A.A,{size:"small",fullWidth:!0,select:!0,SelectProps:{native:!0},label:"Credentials",...st("credentials"),error:Boolean(et.credentials&&Qe.credentials),helperText:et.credentials&&Qe.credentials,children:[(0,V.jsx)("option",{value:""}),qe&&(null===qe||void 0===qe?void 0:qe.map(e=>(0,V.jsx)("option",{value:e.apiCredentialName,children:e.apiCredentialName},e.apiCredentialName)))]})}),(0,V.jsx)(g.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:(0,V.jsxs)(A.A,{size:"small",fullWidth:!0,select:!0,SelectProps:{native:!0},label:"Request Type",...st("requestType"),error:Boolean(et.requestType&&Qe.requestType),helperText:et.requestType&&Qe.requestType,children:[(0,V.jsx)("option",{value:""}),(0,V.jsx)("option",{children:"GET"}),(0,V.jsx)("option",{children:"POST"}),(0,V.jsx)("option",{children:"PUT"}),(0,V.jsx)("option",{children:"DELETE"})]})}),(0,V.jsxs)(g.A,{spacing:2,children:[(0,V.jsx)(b.A,{variant:"subtitle2",sx:{color:"text.error"},children:ke}),(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"API Request Files"}),(0,V.jsx)(M.jM,{file:pe,accept:Y.w,showPreview:!0,onDrop:Ye,onReplace:Xe,onDelete:Ve,name:"API Request File"})]}),(0,V.jsx)(S.A,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:(0,V.jsx)(m.A,{type:"button",variant:"contained",loading:it,onClick:()=>{if(0===Object.keys(Qe).length){const e={apiRequestName:Ke.apiRequestName,credentials:Ke.credentials,requestType:Ke.requestType,apiFiles:$e};Be.push(e),Ue(Be),rt("apiRequestName",""),rt("credentials",""),rt("requestType",""),De([])}else Ge.setTouched((0,p.dc)(Qe,!0))},children:"Add API Request"})})]})})]},"methods")]})})]},"methods"),(0,V.jsxs)(g.A,{spacing:2,children:[(0,V.jsx)(b.A,{variant:"subtitle2",sx:{color:"text.error"},children:ke}),(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Execution File"}),(0,V.jsx)(M._H,{file:he,accept:Y.Ur,fileName:me,onDrop:Me,onReplace:Xe,onDelete:Ve,name:"Execution File"})]}),(0,V.jsx)(g.A,{children:(Ae&&(null===Ae||void 0===Ae?void 0:Ae.length)>0||(null===ie||void 0===ie||null===(i=ie.suiteNames)||void 0===i?void 0:i.length)>0)&&(0,V.jsxs)(V.Fragment,{children:[Ae&&(null===Ae||void 0===Ae?void 0:Ae.length)>0&&(0,V.jsxs)(C.A,{style:{width:"100%"},classes:{root:{height:"15px"}},children:[(0,V.jsx)(k.A,{expandIcon:(0,V.jsx)(x.In,{icon:z.A,width:20,height:20}),style:{background:"linear-gradient(to right, #bdc3c7, #2c3e50)",borderRadius:4,marginBottom:"5px"},children:(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Suite Names"})}),(0,V.jsx)(N.A,{children:(0,V.jsx)(P.A,{dense:!0,sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:Ae&&(null===Ae||void 0===Ae?void 0:Ae.length)>0&&(null===Ae||void 0===Ae?void 0:Ae.map(e=>{const t=`checkbox-list-secondary-label-${e}`;return(0,V.jsx)(R.Ay,{disablePadding:!0,children:(0,V.jsx)(I.A,{children:(0,V.jsx)(q.A,{id:t,primary:e})})},e)}))})})]},"methods"),(null===ie||void 0===ie||null===(n=ie.suiteNames)||void 0===n?void 0:n.length)>0&&(0,V.jsxs)(C.A,{style:{width:"100%"},classes:{root:{height:"15px"}},children:[(0,V.jsx)(k.A,{expandIcon:(0,V.jsx)(x.In,{icon:z.A,width:20,height:20}),style:{background:"linear-gradient(to right, #bdc3c7, #2c3e50)",borderRadius:4,marginBottom:"5px"},children:(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Available Suite Names"})}),(0,V.jsx)(N.A,{children:(0,V.jsx)(P.A,{dense:!0,sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:(null===ie||void 0===ie||null===(a=ie.suiteNames)||void 0===a?void 0:a.length)>0&&(null===ie||void 0===ie||null===(d=ie.suiteNames)||void 0===d?void 0:d.map(e=>{const t=`checkbox-list-secondary-label-${e}`;return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(R.Ay,{disablePadding:!0,children:(0,V.jsx)(I.A,{children:(0,V.jsx)(q.A,{id:t,primary:e})})},e)})}))})})]},"methods")]})}),(0,V.jsx)(g.A,{children:(je&&Object.keys(je)&&(null===(c=Object.keys(je))||void 0===c?void 0:c.length)>0||(null===ie||void 0===ie?void 0:ie.testCaseSteps)&&Object.keys(null===ie||void 0===ie?void 0:ie.testCaseSteps)&&(null===(X=Object.keys(null===ie||void 0===ie?void 0:ie.testCaseSteps))||void 0===X?void 0:X.length)>1)&&(0,V.jsxs)(V.Fragment,{children:[(null===(J=Object.keys(je))||void 0===J?void 0:J.length)>1&&(0,V.jsxs)(C.A,{style:{width:"100%"},classes:{root:{height:"15px"}},children:[(0,V.jsx)(k.A,{expandIcon:(0,V.jsx)(x.In,{icon:z.A,width:20,height:20}),style:{background:"linear-gradient(to right, #bdc3c7, #2c3e50)",borderRadius:4,marginBottom:"5px"},children:(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Test Steps"})}),(0,V.jsx)(N.A,{children:(0,V.jsx)(P.A,{dense:!0,sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:(null===(Z=Object.keys(je))||void 0===Z?void 0:Z.length)>1&&(null===(H=Object.keys(je))||void 0===H?void 0:H.map(e=>{const t=`checkbox-list-secondary-label-${e}`;return(0,V.jsx)(R.Ay,{disablePadding:!0,children:(0,V.jsx)(I.A,{children:(0,V.jsx)(q.A,{id:t,primary:e})})},e)}))})})]},"methods"),ie&&(null===ie||void 0===ie?void 0:ie.testCaseSteps)&&(null===(G=Object.keys(null===ie||void 0===ie?void 0:ie.testCaseSteps))||void 0===G?void 0:G.length)>1&&(0,V.jsxs)(C.A,{style:{width:"100%"},classes:{root:{height:"15px"}},children:[(0,V.jsx)(k.A,{expandIcon:(0,V.jsx)(x.In,{icon:z.A,width:20,height:20}),style:{background:"linear-gradient(to right, #bdc3c7, #2c3e50)",borderRadius:4,marginBottom:"5px"},children:(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Available Test Steps"})}),(0,V.jsx)(N.A,{children:(0,V.jsx)(P.A,{dense:!0,sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:(null===ie||void 0===ie?void 0:ie.testCaseSteps)&&(null===(K=Object.keys(null===ie||void 0===ie?void 0:ie.testCaseSteps))||void 0===K?void 0:K.length)>1&&(null===(Q=Object.keys(null===ie||void 0===ie?void 0:ie.testCaseSteps))||void 0===Q?void 0:Q.map(e=>{const t=`checkbox-list-secondary-label-${e}`;return(0,V.jsx)(V.Fragment,{children:"_id"!==(null===e||void 0===e?void 0:e.toString())&&(0,V.jsx)(R.Ay,{disablePadding:!0,children:(0,V.jsx)(I.A,{children:(0,V.jsx)(q.A,{id:t,primary:e})})},e)})}))})})]},"methods")]})}),(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Issue Email Notifications"}),(0,V.jsx)(g.A,{onBlur:function(){},children:(0,V.jsx)(w.A,{multiple:!0,value:(null===Ke||void 0===Ke?void 0:Ke.emailNotifications)||[],onChange:(e,t)=>{if(ee){if(0===t.length){const e=re.find(e=>e._id===ie.createdBy);if(e){const t=`${e.firstName} ${e.lastName}`;return rt("emailNotifications",[t]),Fe.current=[t],void ne("Project creator can't be removed from the team.",{variant:"warning"})}}const e=_e.current.filter(e=>!t.includes(e));if(e.length>0){const t=e[0],i=re.find(e=>`${e.firstName} ${e.lastName}`===t);if(i&&i._id===ie.createdBy)return void ne("Project creator can't be removed from the team.",{variant:"warning"})}Fe.current=t}rt("emailNotifications",t)},options:re&&(null===re||void 0===re?void 0:re.map(e=>`${null===e||void 0===e?void 0:e.firstName} ${null===e||void 0===e?void 0:e.lastName}`)),openOnFocus:!1,autoHighlight:!1,renderInput:e=>(0,V.jsx)(A.A,{...e,label:"Select Users"})})})]}),(0,V.jsxs)(g.A,{spacing:2,sx:{width:1},children:[(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Advanced Settings"}),(0,V.jsx)(g.A,{spacing:1,alignItems:"flex-start",children:(0,V.jsx)(A.A,{size:"small",fullWidth:!0,label:"Jira Reference URL",variant:"outlined",placeholder:"E.g. https://abc.atlassian.com/browse/{id}",helperText:"Links generated for test result issues will be based on this template."})}),(0,V.jsxs)(g.A,{spacing:1,alignItems:"flex-start",children:[(0,V.jsx)(b.A,{variant:"overline",sx:{color:"text.secondary"},children:"Requirement Document"}),(0,V.jsx)("input",{type:"file",id:"myFile",name:"filename"})]})]}),(0,V.jsx)(S.A,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:(0,V.jsx)(m.A,{type:"submit",variant:"contained",loading:it,children:ee?"Save Changes":"Create Project"})})]}),(0,V.jsxs)(T.A,{open:Se,onClose:We,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,V.jsx)($.A,{id:"alert-dialog-title",children:"Project Info"}),(0,V.jsx)(D.A,{children:(0,V.jsxs)(B.A,{id:"alert-dialog-description",children:[(0,V.jsx)("br",{}),(0,V.jsx)("br",{}),"Project Name with ",(0,V.jsxs)("b",{children:["[",Ke.name,"]"]})," already exists in the company!!",(0,V.jsx)("br",{}),(0,V.jsx)("br",{}),"Please change Project Name"]})}),(0,V.jsx)(U.A,{children:(0,V.jsx)(O.A,{autoFocus:!0,onClick:We,children:"OK"})})]})]})})})})});var nt}var J=i(42033),Z=i(31802);function H(){const{themeStretch:e}=(0,a.A)(),t=(0,o.wA)(),{pathname:i}=(0,s.zy)(),{projectId:h}=(0,s.g)(),{userList:u,currentUser:p,appendUrl:x}=(0,o.d4)(e=>e.user),m=i.includes("edit"),[v,j]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{if(h){const e=await(0,J.U1)(h);j(e)}})()},[t,h]),(0,r.useEffect)(()=>{t((0,Z.aU)())},[t,h]),(0,V.jsx)(d.A,{title:"Test Ensure",children:(0,V.jsxs)(n.A,{maxWidth:!e&&"xl",children:[(0,V.jsx)(c.A,{heading:m?"Edit project":"Create a new project",links:[{name:"Projects",href:(e=>{let t=e;return x&&(t=`${e}?${x}`),t})(l.nB.project.allProjects)},{name:m?null===v||void 0===v?void 0:v.name:"New project"}],info:"To create a project, you must be an administrator, or your role must have the privileges"}),(0,V.jsx)(X,{isEdit:m,currentUser:p,currentProject:v,userList:u})]})})}},98533:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var r=i(98587),s=i(58168),n=i(65043),o=i(58387),l=i(98610),a=i(34535),d=i(61475),c=i(98206),h=i(85865),u=i(92532),p=i(72372);function x(e){return(0,p.Ay)("MuiDialogContentText",e)}(0,u.A)("MuiDialogContentText",["root"]);var m=i(70579);const v=["children","className"],j=(0,a.Ay)(h.A,{shouldForwardProp:e=>(0,d.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),g=n.forwardRef(function(e,t){const i=(0,c.b)({props:e,name:"MuiDialogContentText"}),{className:n}=i,a=(0,r.A)(i,v),d=(e=>{const{classes:t}=e,i=(0,l.A)({root:["root"]},x,t);return(0,s.A)({},t,i)})(a);return(0,m.jsx)(j,(0,s.A)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:a,className:(0,o.A)(d.root,n)},i,{classes:d}))})}}]);
//# sourceMappingURL=9240.9de51008.chunk.js.map