"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[9817],{6915:(e,t,i)=>{i.d(t,{xY:()=>W,U1:()=>c,pE:()=>k,ie:()=>F});var n=i(50524),o=i(84882),r=i(28076),l=i(10039),a=i(58093),s=i(96446),d=i(70579);function c(e){let{order:t,orderBy:i,headLabel:c,onRequestSort:h}=e;return(0,d.jsx)(o.A,{children:(0,d.jsx)(r.A,{children:c.map(e=>{return(0,d.jsx)(l.A,{align:e.alignRight?"right":"left",sortDirection:i===e.id&&t,children:(0,d.jsxs)(a.A,{hideSortIcon:!0,active:i===e.id,direction:i===e.id?t:"asc",onClick:(o=e.id,e=>{h(e,o)}),children:[e.label,i===e.id?(0,d.jsx)(s.A,{sx:{...n.A},children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var o})})})}var h=i(5748),u=i(43141),p=i(34535),x=i(26240),v=i(55263),g=i(74050),j=i(51787),A=i(88446),m=i(73216),f=i(35475),y=i(15285),b=i(48407);const C=(0,p.Ay)(v.A)(e=>{let{theme:t}=e;return{height:96,display:"flex",justifyContent:"space-between",padding:t.spacing(0,1,0,3)}}),w=(0,p.Ay)(g.A)(e=>{let{theme:t}=e;return{width:240,transition:t.transitions.create(["box-shadow","width"],{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&.Mui-focused":{width:320,boxShadow:t.customShadows.z8},"& fieldset":{borderWidth:"1px !important",borderColor:`${t.palette.grey[50032]} !important`}}});function k(e){let{numSelected:t,filterName:i,onFilterName:n}=e;const o="light"===(0,x.A)().palette.mode,{pathname:r}=(0,m.zy)(),l=r.includes("archived"),{appendUrl:a}=(0,y.d4)(e=>e.user),c=e=>{let t=e;return a&&(t=`${e}?${a}`),t};return(0,d.jsxs)(C,{sx:{...t>0&&{color:o?"primary.main":"text?.primary",bgcolor:o?"primary.lighter":"primary.dark"}},children:[(0,d.jsx)(w,{value:i,onChange:n,placeholder:"Search project...",startAdornment:(0,d.jsx)(j.A,{position:"start",children:(0,d.jsx)(s.A,{component:h.In,icon:u.A,sx:{color:"text.disabled"}})})}),!l&&(0,d.jsx)(A.A,{style:{textDecoration:"none",cursor:"pointer"},component:f.N_,to:c(b.nB.project.archivedProjects),children:"Archived Projects"}),l&&(0,d.jsx)(A.A,{style:{textDecoration:"none",cursor:"pointer"},component:f.N_,to:c(b.nB.project.allProjects),children:"Unarchived Projects"})]})}var P=i(65043),S=i(85405),_=i(16569),I=i(76939),R=i(17392),N=i(45424),D=i(32143),E=i(2050),O=i(48734),$=i(83462),B=i(26600),M=i(35316),T=i(98533),L=i(29347),z=i(42518);function F(e){let{pageConfig:t,onDelete:i,projectId:n}=e;const o=(0,P.useRef)(null),[r,l]=(0,P.useState)(!1),[a,s]=(0,P.useState)(!1),{appendUrl:c}=(0,y.d4)(e=>e.user),u=()=>{s(!1)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(R.A,{ref:o,onClick:()=>l(!0),children:(0,d.jsx)(h.In,{icon:I.A,width:20,height:20})}),(0,d.jsxs)(N.A,{open:r,anchorEl:o.current,onClose:()=>l(!1),PaperProps:{sx:{width:200,maxWidth:"100%"}},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(null===t||void 0===t?void 0:t.edit)&&(0,d.jsxs)(D.A,{component:f.N_,to:(e=>{let t=e;return c&&(t=`${e}?${c}`),t})(`${b.nB.project.root}/${n}/edit`),sx:{color:"text.secondary"},children:[(0,d.jsx)(E.A,{children:(0,d.jsx)(h.In,{icon:S.A,width:24,height:24})}),(0,d.jsx)(O.A,{primary:"Edit",primaryTypographyProps:{variant:"body2"}})]}),(null===t||void 0===t?void 0:t.delete)&&(0,d.jsxs)(D.A,{sx:{color:"error.main"},onClick:()=>{l(!1),s(!0)},children:[(0,d.jsx)(E.A,{children:(0,d.jsx)(h.In,{icon:_.A,width:24,height:24})}),(0,d.jsx)(O.A,{primary:"Delete",primaryTypographyProps:{variant:"body2"}})]})]}),(0,d.jsxs)($.A,{open:a,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,d.jsx)(B.A,{id:"alert-dialog-title",children:"Are you sure you want to delete Project?"}),(0,d.jsx)(M.A,{children:(0,d.jsxs)(T.A,{id:"alert-dialog-description",children:[(0,d.jsx)("br",{}),"This will archive the Project and corresponding Modules"]})}),(0,d.jsxs)(L.A,{children:[(0,d.jsx)(z.A,{onClick:u,children:"Disagree"}),(0,d.jsx)(z.A,{onClick:()=>{u(),i()},autoFocus:!0,children:"Agree"})]})]})]})}var U=i(21298);function W(e){let{onDelete:t}=e;const i=(0,P.useRef)(null),[n,o]=(0,P.useState)(!1),[r,l]=(0,P.useState)(!1),a=()=>{l(!1)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(R.A,{ref:i,onClick:()=>o(!0),children:(0,d.jsx)(h.In,{icon:I.A,width:20,height:20})}),(0,d.jsxs)(N.A,{open:n,anchorEl:i.current,onClose:()=>o(!1),PaperProps:{sx:{width:200,maxWidth:"100%"}},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,d.jsxs)(D.A,{sx:{color:"text.secondary"},children:[(0,d.jsx)(E.A,{children:(0,d.jsx)(h.In,{icon:U.A,width:24,height:24})}),(0,d.jsx)(O.A,{primary:"Un-Archive",primaryTypographyProps:{variant:"body2"}})]}),(0,d.jsxs)(D.A,{sx:{color:"error.main"},onClick:()=>{o(!1),l(!0)},children:[(0,d.jsx)(E.A,{children:(0,d.jsx)(h.In,{icon:_.A,width:24,height:24})}),(0,d.jsx)(O.A,{primary:"Delete",primaryTypographyProps:{variant:"body2"}})]})]}),(0,d.jsxs)($.A,{open:r,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,d.jsx)(B.A,{id:"alert-dialog-title",children:"Are you sure you want to delete Project?"}),(0,d.jsx)(M.A,{children:(0,d.jsxs)(T.A,{id:"alert-dialog-description",children:[(0,d.jsx)("br",{}),"This will permanently delete Project and corresponding Modules"]})}),(0,d.jsxs)(L.A,{children:[(0,d.jsx)(z.A,{onClick:a,children:"Disagree"}),(0,d.jsx)(z.A,{onClick:()=>{a(),t()},autoFocus:!0,children:"Agree"})]})]})]})}},9817:(e,t,i)=>{i.r(t),i.d(t,{default:()=>K});var n=i(53536),o=i(5748),r=i(67457),l=i(65043),a=i(18577),s=i(73216),d=i(35475),c=i(69525),h=i(26240),u=i(19252),p=i(42518),x=i(12110),v=i(79650),g=i(71806),j=i(73460),A=i(28076),m=i(10039),f=i(85865),y=i(25754),b=i(77739),C=i(60587),w=i(79266),k=i(11708),P=i(8525),S=i(42033),_=i(49849),I=i(15285),R=i(48407),N=i(11737),D=i(96221),E=i(50467),O=i(69092),$=i(12670),B=i(36880),M=i(6915),T=i(88324),L=i(32393),z=i(95683),F=i(77137),U=i(57390),W=i(70579);const H=[{id:"name",label:"Name",alignRight:!1},{id:"team",label:"Team",alignRight:!1},{id:"status",label:"Status",alignRight:!1},{id:"modulesCount",label:"No of Modules ",alignRight:!1},{id:"updatedAt",label:"Last Activity",alignRight:!1},{id:""}];function q(e,t,i){return t[i]<e[i]?-1:t[i]>e[i]?1:0}function K(){const e=(0,s.Zp)(),{themeStretch:t}=(0,N.A)(),i=(0,h.A)(),K=(0,I.wA)(),{currentUser:V,appendUrl:X}=(0,I.d4)(e=>e.user),{totalProjects:Z,projectList:G,filterProjects:Y,fetchProjectData:Q,totalCount:J}=(0,I.d4)(e=>e.project),{roleConfig:ee,pageConfig:te}=(0,I.d4)(e=>e.role),[ie,ne]=(0,l.useState)(0),[oe,re]=(0,l.useState)("desc"),[le,ae]=(0,l.useState)([]),[se,de]=(0,l.useState)("createdAt"),[ce,he]=(0,l.useState)(""),[ue,pe]=(0,l.useState)(10),[xe,ve]=(0,l.useState)(!1),[ge,je]=(0,l.useState)(!0),[Ae,me]=(0,l.useState)(!0),[fe,ye]=(0,l.useState)(!1),be=e=>{let t=e;return X&&(t=`${e}?${X}`),t},Ce=t=>{e(be(t))},we=(0,l.useCallback)(async()=>{if(Q){var e;(0,k.gs)(K,!1),ge?ve(!0):ye(!0);const t=await(0,S.lq)(T.A.UNARCHIVED,null===V||void 0===V||null===(e=V.company)||void 0===e?void 0:e._id,se,oe,ue,ie),i=null===t||void 0===t?void 0:t.data,n=null===t||void 0===t?void 0:t.totalCount;(0,k.MZ)(K,i),(0,k.iL)(K,n),(0,k.D7)(K,i);const o=await(0,z.Kv)(),r=null===i||void 0===i?void 0:i.find(e=>e._id===(null===o||void 0===o?void 0:o._id)),l=null===G||void 0===G?void 0:G.find(e=>e._id===(null===o||void 0===o?void 0:o._id));r||l||(0,k.lK)(K,null),ge?ve(!1):ye(!1)}},[K,V,Q,G]),ke=e=>{(0,k.gs)(K,!0)},Pe=function(e,t,i){const o=null===e||void 0===e?void 0:e.map((e,t)=>[e,t]);return null===o||void 0===o||o.sort((e,i)=>{const n=t(e[0],i[0]);return 0!==n?n:e[1]-i[1]}),i?(0,n.filter)(e,e=>-1!==e.name.toLowerCase().indexOf(i.toLowerCase())):null===o||void 0===o?void 0:o.map(e=>e[0])}(G,function(e,t){return"desc"===e?(e,i)=>q(e,i,t):(e,i)=>-q(e,i,t)}(oe,se),ce),Se=0===(null===Pe||void 0===Pe?void 0:Pe.length),_e=null===Pe||void 0===Pe?void 0:Pe.filter(e=>e.status!==T.A.ARCHIVED),Ie=ie>0?Math.max(0,ue-(null===_e||void 0===_e?void 0:_e.length)):0;return(0,l.useEffect)(()=>{(0,k.MZ)(K,_e),(0,k.D7)(K,_e),(0,k.gs)(K,!0)},[K]),(0,l.useEffect)(()=>{(async()=>{if(Ae){const e=await(0,z.fF)(F.mc.ROLE,F.Rk.ROLE_CONFIG);(0,_.H1)(K,e),me(!1)}})()},[K,Ae]),(0,l.useEffect)(()=>{var e;ee&&0!==(null===(e=Object.keys(ee))||void 0===e?void 0:e.length)&&(0,_.Cr)(K,null===ee||void 0===ee?void 0:ee.projects)},[K,ee]),(0,l.useEffect)(()=>{we(),je(!0)},[we]),(0,W.jsx)(D.A,{title:"Test Ensure",children:(0,W.jsxs)(u.A,{maxWidth:!t&&"xl",children:[(0,W.jsx)(B.A,{heading:"All Projects",links:[{name:"Projects",href:be(R.nB.project.allProjects)},{name:"All Projects"}],info:"A project is a collection of related modules and test cases.",action:(null===te||void 0===te?void 0:te.create)&&(0,W.jsx)(p.A,{variant:"contained",component:d.N_,to:be(`${R.nB.project.newProject}`),startIcon:(0,W.jsx)(o.In,{icon:a.A}),children:"New Project"})}),xe&&(0,W.jsx)(L.A,{}),!xe&&(0,W.jsxs)(x.A,{children:[(0,W.jsx)(M.pE,{numSelected:le.length,filterName:ce,onFilterName:e=>{he(e.target.value),ne(0)}}),(0,W.jsx)(O.A,{children:(0,W.jsx)(v.A,{sx:{minWidth:800},children:(0,W.jsxs)(g.A,{children:[(0,W.jsx)(M.U1,{order:oe,orderBy:se,headLabel:H,rowCount:null===_e||void 0===_e?void 0:_e.length,numSelected:le.length,onRequestSort:(e,t)=>{re(se===t&&"asc"===oe?"desc":"asc"),de(t),ke(),we(),je(!1)},onSelectAllClick:e=>{if(e.target.checked){const e=Y.map(e=>e.name);return void ae(e)}ae([])}}),(0,W.jsxs)(j.A,{children:[(0,W.jsx)(U.A,{loading:fe}),null===_e||void 0===_e?void 0:_e.map(e=>{const{_id:t,name:n,team:o,status:l,modulesCount:a,updatedAt:s}=e,d=-1!==le.indexOf(n);return(0,W.jsxs)(A.A,{hover:!0,tabIndex:-1,role:"checkbox",selected:d,"aria-checked":d,children:[(0,W.jsx)(m.A,{component:"th",scope:"row",padding:"none",children:(0,W.jsx)(f.A,{variant:"subtitle2",noWrap:!0,color:"#0045ff",style:{textDecoration:"none",cursor:"pointer"},onClick:()=>(async e=>{var t;const i=null===Y||void 0===Y?void 0:Y.filter(t=>t._id===e)[0];(0,k.lK)(K,i);const n=await(0,S.sY)(null===V||void 0===V||null===(t=V.company)||void 0===t?void 0:t._id,null===i||void 0===i?void 0:i._id);(0,k.uX)(K,n);const o=(null===ee||void 0===ee?void 0:ee.projectModules)&&Object.values(null===ee||void 0===ee?void 0:ee.projectModules).reduce((e,t)=>e+t,0),r=(null===ee||void 0===ee?void 0:ee.releases)&&Object.values(null===ee||void 0===ee?void 0:ee.releases).reduce((e,t)=>e+t,0),l=(null===ee||void 0===ee?void 0:ee.testRuns)&&Object.values(null===ee||void 0===ee?void 0:ee.testRuns).reduce((e,t)=>e+t,0);0!==o?((0,P.jX)(K,!0),Ce(R.nB.module.allModules)):0!==r?Ce(R.nB.release.allReleases):0!==l&&Ce(R.nB.testRuns.allTestRuns)})(t),children:n})}),(0,W.jsx)(m.A,{align:"left",children:(0,W.jsx)(y.A,{max:4,sx:{"& .MuiAvatar-root":{width:32,height:32}},style:{flexDirection:"row"},children:null===o||void 0===o?void 0:o.map(e=>(0,W.jsx)(b.A,{title:`${null===e||void 0===e?void 0:e.firstName} ${null===e||void 0===e?void 0:e.lastName}`,children:(0,W.jsx)(C.A,{alt:null===e||void 0===e?void 0:e.firstName,src:(null===e||void 0===e?void 0:e.avatarUrl)||(null===e||void 0===e?void 0:e.firstName)},null===e||void 0===e?void 0:e.firstName)},`${null===e||void 0===e?void 0:e.firstName} ${null===e||void 0===e?void 0:e.lastName}`))})}),(0,W.jsx)(m.A,{align:"left",children:(0,W.jsx)(E.A,{variant:"light"===i.palette.mode?"ghost":"filled",color:l===T.A.CLOSED?"error":"success",children:(0,r.o3)(l)})}),(0,W.jsx)(m.A,{align:"left",children:(0,W.jsx)("b",{children:a})}),(0,W.jsx)(m.A,{align:"left",children:(0,c.A)(new Date(s),"MMM dd yyyy, hh:mm a")}),((null===te||void 0===te?void 0:te.edit)||(null===te||void 0===te?void 0:te.delete))&&(0,W.jsx)(m.A,{align:"right",children:(0,W.jsx)(M.ie,{pageConfig:te,onDelete:()=>(e=>{var t,i;const n=[],o=[],r=null===Y||void 0===Y?void 0:Y.filter(t=>t._id===e)[0];null===r||void 0===r||null===(t=r.team)||void 0===t||t.map(e=>(n.push(e._id),null)),null===r||void 0===r||null===(i=r.modules)||void 0===i||i.map(e=>(o.push(e._id),null));const l={name:r.name,description:r.description,status:T.A.ARCHIVED,company:r.company,team:n,modules:o,createdBy:r.createdBy};(0,k.qe)(K,l,e),(0,k.gs)(K,!0),we(),je(!0),(0,k.lK)(K,null)})(t),projectId:t})})]},t)}),Ie>0&&(0,W.jsx)(A.A,{style:{height:53*Ie},children:(0,W.jsx)(m.A,{colSpan:6})})]}),Se&&(0,W.jsx)(j.A,{children:(0,W.jsx)(A.A,{children:(0,W.jsx)(m.A,{align:"center",colSpan:6,sx:{py:3},children:(0,W.jsx)($.A,{searchQuery:ce})})})})]})})}),(0,W.jsx)(w.A,{rowsPerPageOptions:[10,15,25,30],component:"div",count:J||0,rowsPerPage:ue,page:ie,onPageChange:(e,t)=>{ne(t),ke(),we(),je(!1)},onRowsPerPageChange:e=>{pe(parseInt(e.target.value,10)),ne(0),ke(),we(),je(!1)}})]})]})})}},12670:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(63336),o=i(85865),r=i(70579);function l(e){let{...t}=e;return(0,r.jsxs)(n.A,{...t,children:[(0,r.jsx)(o.A,{gutterBottom:!0,align:"center",variant:"subtitle1",children:"Not found!"}),(0,r.jsx)(o.A,{variant:"body2",align:"center",children:"No results found. Try checking for spelling errors or use a complete sentence."})]})}},36880:(e,t,i)=>{i.d(t,{A:()=>p});var n=i(53536),o=i(5748),r=i(11892),l=i(96446),a=i(85865),s=i(77739),d=i(17392),c=i(88446),h=i(76412),u=i(70579);function p(e){let{links:t,action:i,heading:p,info:x,moreLink:v=[],sx:g,...j}=e;return(0,u.jsxs)(l.A,{sx:{mb:5,...g},children:[(0,u.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,u.jsxs)(l.A,{sx:{flexGrow:1},children:[(0,u.jsxs)(l.A,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,u.jsx)(a.A,{variant:"h4",gutterBottom:!0,children:p}),(0,u.jsx)(s.A,{title:x,placement:"bottom",arrow:!0,children:(0,u.jsx)(d.A,{children:(0,u.jsx)(o.In,{icon:r.A,width:25,height:25})})})]}),(0,u.jsx)(h._5,{links:t,...j})]}),i&&(0,u.jsx)(l.A,{sx:{flexShrink:0},children:i})]}),(0,u.jsx)(l.A,{sx:{mt:2},children:(0,n.isString)(v)?(0,u.jsx)(c.A,{href:v,target:"_blank",variant:"body2",children:v}):v.map(e=>(0,u.jsx)(c.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e))})]})}},50467:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(34535),o=i(90310),r=i(70579);const l=(0,n.Ay)("span")(e=>{var t,i,n;let{theme:r,styleProps:l}=e;const a="light"===r.palette.mode,{color:s,variant:d}=l;return{height:22,minWidth:22,lineHeight:0,borderRadius:8,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:r.spacing(0,1),color:r.palette.grey[800],fontSize:r.typography.pxToRem(12),fontFamily:r.typography.fontFamily,backgroundColor:r.palette.grey[300],fontWeight:r.typography.fontWeightBold,..."default"!==s?{..."filled"===d&&{...(e=>({color:r.palette[e].contrastText,backgroundColor:r.palette[e].main}))(s)},..."outlined"===d&&{...(e=>({color:r.palette[e].main,backgroundColor:"transparent",border:`1px solid ${r.palette[e].main}`}))(s)},..."ghost"===d&&{...(e=>({color:r.palette[e][a?"dark":"light"],backgroundColor:(0,o.X4)(r.palette[e].main,.16)}))(s)}}:{..."outlined"===d&&{backgroundColor:"transparent",color:null===(t=r.palette)||void 0===t||null===(i=t.text)||void 0===i?void 0:i.primary,border:`1px solid ${r.palette.grey[50032]}`},..."ghost"===d&&{color:a?null===(n=r.palette)||void 0===n?void 0:n.text.secondary:r.palette.common.white,backgroundColor:r.palette.grey[50016]}}}});function a(e){let{color:t="default",variant:i="ghost",children:n,...o}=e;return(0,r.jsx)(l,{styleProps:{color:t,variant:i},...o,children:n})}},57390:(e,t,i)=>{i.d(t,{A:()=>l});i(65043);var n=i(96446),o=i(81637),r=i(70579);function l(e){let{loading:t}=e;return t?(0,r.jsx)(n.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(255, 255, 255, 0.6)",zIndex:e=>e.zIndex.modal+1,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(o.A,{size:48})}):null}}}]);
//# sourceMappingURL=9817.fd0dd3e4.chunk.js.map