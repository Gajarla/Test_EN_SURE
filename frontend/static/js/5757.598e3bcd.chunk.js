"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[5757],{2990:(e,i,r)=>{r.d(i,{nZ:()=>O,jM:()=>U,_H:()=>z});var t=r(53536),n=r(5748),o=r(89488),l=r(51875),a=r(20901),s=r(23546),d=r(54119),c=r(34535),p=r(90310),x=r(63336),h=r(96446),u=r(85865),m=r(35721),g=r(37918),v=r(2050),j=r(48734),y=r(8266),f=r(67784),b=r(88911),A=r(42518),w=r(73338),C=r(76412),k=r(61882),I=r(99522),D=r(70579);const R=(0,c.Ay)("div")(e=>{let{theme:i}=e;return{outline:"none",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:i.spacing(5,1),borderRadius:i.shape.borderRadius,backgroundColor:i.palette.background.neutral,border:`1px dashed ${i.palette.grey[50032]}`,"&:hover":{opacity:.72,cursor:"pointer"},[i.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}});function U(e){let{error:i,showPreview:r=!0,files:c,onRemove:U,onRemoveAll:S,sx:P,..._}=e;const N=(null===c||void 0===c?void 0:c.length)>0,{getRootProps:B,getInputProps:L,isDragActive:$,isDragReject:E,fileRejections:T}=(0,o.VB)({multiple:!0,..._}),W="image/*"===(null===_||void 0===_?void 0:_.accept),z=()=>(0,D.jsx)(x.A,{variant:"outlined",sx:{py:1,px:2,mt:3,borderColor:"error.light",bgcolor:e=>(0,p.X4)(e.palette.error.main,.08)},children:T.map(e=>{let{file:i,errors:r}=e;const{path:t,size:n}=i;return(0,D.jsxs)(h.A,{sx:{my:1},children:[(0,D.jsxs)(u.A,{variant:"subtitle2",noWrap:!0,children:[t," - ",(0,w.tm)(n)]}),r.map(e=>(0,D.jsxs)(u.A,{variant:"caption",component:"p",children:["- ",e.message]},e.code))]},t)})});return(0,D.jsxs)(h.A,{sx:{width:"100%",...P},children:[(0,D.jsxs)(R,{...B(),sx:{...$&&{opacity:.72},...(E||i)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}},children:[(0,D.jsx)("input",{...L()}),(0,D.jsx)(I.E4,{sx:{width:220}}),(0,D.jsxs)(h.A,{sx:{p:3,ml:{md:2}},children:[(0,D.jsx)(u.A,{gutterBottom:!0,variant:"h5",children:"Drop or Select file"}),(0,D.jsxs)(u.A,{variant:"body2",sx:{color:"text.secondary"},children:["Drop files here or click\xa0",(0,D.jsx)(u.A,{variant:"body2",component:"span",sx:{color:"primary.main",textDecoration:"underline"},children:"browse"}),"\xa0through your machine"]}),W&&(0,D.jsx)(u.A,{variant:"body2",sx:{color:"text.secondary"},children:"Only image files are allowed."})]})]}),T.length>0&&(0,D.jsx)(z,{}),(0,D.jsx)(m.A,{disablePadding:!0,sx:{...N&&{my:3}},children:(0,D.jsx)(s.N,{children:null===c||void 0===c?void 0:c.map(e=>{const{name:i,size:o,preview:s}=e,c=(0,t.isString)(e)?e:i;return r?(0,D.jsxs)(g.Ay,{component:d.P.div,...k.xB,sx:{p:0,m:.5,width:80,height:80,borderRadius:1.5,overflow:"hidden",position:"relative",display:"inline-flex"},children:[(0,D.jsx)(x.A,{variant:"outlined",component:"img",src:(0,t.isString)(e)?e:s,sx:{width:"100%",height:"100%",objectFit:"cover",position:"absolute"}}),(0,D.jsx)(h.A,{sx:{top:6,right:6,position:"absolute"},children:(0,D.jsx)(C.ZM,{size:"small",onClick:()=>U(e),sx:{p:"2px",color:"common.white",bgcolor:e=>(0,p.X4)(e.palette.grey[900],.72),"&:hover":{bgcolor:e=>(0,p.X4)(e.palette.grey[900],.48)}},children:(0,D.jsx)(n.In,{icon:a.A})})})]},c):(0,D.jsxs)(g.Ay,{component:d.P.div,...k.xB,sx:{my:1,py:.75,px:2,borderRadius:1,border:e=>`solid 1px ${e.palette.divider}`,bgcolor:"background.paper"},children:[(0,D.jsx)(v.A,{children:(0,D.jsx)(n.In,{icon:l.A,width:28,height:28})}),(0,D.jsx)(j.A,{primary:(0,t.isString)(e)?e:i,secondary:(0,t.isString)(e)?"":(0,w.tm)(o),primaryTypographyProps:{variant:"subtitle2"},secondaryTypographyProps:{variant:"caption"}}),(0,D.jsx)(y.A,{children:(0,D.jsx)(C.ZM,{edge:"end",size:"small",onClick:()=>U(e),children:(0,D.jsx)(n.In,{icon:a.A})})})]},c)})})}),N&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.A,{id:"standard-helperText",label:`${null===c||void 0===c?void 0:c.length} files selected`,variant:"standard",disabled:!0,border:"none",sx:{"& fieldset":{border:"none"}}}),(0,D.jsxs)(b.A,{direction:"row",justifyContent:"flex-end",children:[(0,D.jsx)(A.A,{onClick:S,sx:{mr:1.5},children:"Remove all"}),(0,D.jsx)(A.A,{variant:"contained",sx:{display:"none"},children:"Upload files"})]})]})]})}var S=r(83462),P=r(35316),_=r(98533),N=r(29347),B=r(65043),L=r(33211),$=r(60949);const E=(0,c.Ay)("div")(e=>{let{theme:i}=e;return{outline:"none",overflow:"hidden",textAlign:"center",position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:i.spacing(0,0),borderRadius:i.shape.borderRadius,transition:i.transitions.create("padding"),backgroundColor:"#edf6fc",boxShadow:"0 0 1px #32749e",opacity:.85,"&:hover":{opacity:1,cursor:"pointer"},[i.breakpoints.up("md")]:{textAlign:"left",flexDirection:"row"}}}),T=(0,c.Ay)("div")(()=>({textAlign:"center",textDecoration:"underline",color:"#fff"})),W=(0,c.Ay)("div")(()=>({display:"flex"}));function z(e){let{error:i,isEdit:r,onDelete:t,onReplace:n,fileType:l,filePath:a,fileName:s,moduleID:d,file:c,sx:p,...x}=e;const[m,g]=(0,B.useState)(!1),{getRootProps:v,getInputProps:j,isDragActive:y,isDragReject:f}=(0,o.VB)({multiple:!1,accept:x.accept,onDrop:x.onDrop}),b=()=>{g(!1)};return(0,D.jsxs)(h.A,{sx:{...p,width:"100%",height:"150px"},children:[(0,D.jsxs)(E,{...v(),sx:{...y&&{opacity:.72},...(f||i)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}},children:[!c&&r&&(0,D.jsx)(T,{onClick:e=>{e.stopPropagation(),(async()=>{let e=null;try{if(e=await L.A.get(`${$.A.host}/api/projects/downloadModule/${d}/${l}/`,{responseType:"blob"}),e){const i=new Blob([e.data]),r=document.createElement("a");r.href=window.URL.createObjectURL(i),r.download=a,r.click()}}catch(i){console.log(e.data)}})()},children:(0,D.jsx)("span",{children:a})}),(0,D.jsxs)(W,{children:[(0,D.jsx)("input",{...j()}),(0,D.jsx)(I.E4,{sx:{marginLeft:"10px",height:"120px",width:"120px"}}),(0,D.jsx)(h.A,{sx:{p:2,ml:{md:2},paddingLeft:"0px",width:"100%",height:"140px",display:"flex",alignItems:"center",justifyContent:"center"},children:c||s?(0,D.jsxs)("div",{style:{width:"100%",padding:"10px 0px 0px 0px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,D.jsx)("filePath",{children:(null===c||void 0===c?void 0:c.name)||s}),(0,D.jsxs)("div",{style:{paddingTop:"20px",width:"150px",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,D.jsx)(A.A,{sx:{backgroundColor:"#32749e",height:"28px",padding:"5px 10px",color:"#fff"},onClick:e=>{e.stopPropagation(),n()},children:"Replace"}),null!==c&&void 0!==c&&c.name||s?(0,D.jsx)(A.A,{sx:{backgroundColor:"#32749e",height:"28px",padding:"5px 10px",color:"#fff"},onClick:e=>{e.stopPropagation(),g(!0)},children:"Delete"}):null]})]}):(0,D.jsxs)(u.A,{variant:"body2",sx:{color:"#000",fontSize:"16px",fontWeight:"bold"},children:["Drop files here OR click\xa0",(0,D.jsx)(u.A,{variant:"body2",component:"span",sx:{color:"#000",fontWeight:"bold",textDecoration:"underline"},children:"Browse"})]})})]})]}),(0,D.jsxs)(S.A,{open:m,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,D.jsx)(P.A,{children:(0,D.jsxs)(_.A,{id:"alert-dialog-description",children:[(0,D.jsx)("br",{}),"Are you sure want to delete this file ?"]})}),(0,D.jsxs)(N.A,{children:[(0,D.jsx)(A.A,{onClick:()=>{t(),g(!1)},children:"Yes"}),(0,D.jsx)(A.A,{onClick:b,children:"No"})]})]})]})}var F=r(45518);const q=(0,c.Ay)("div")(e=>{let{theme:i}=e;return{width:144,height:144,margin:"auto",borderRadius:"50%",padding:i.spacing(1),border:`1px dashed ${i.palette.grey[50032]}`}}),M=(0,c.Ay)("div")({zIndex:0,width:"100%",height:"100%",outline:"none",display:"flex",overflow:"hidden",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center","& > *":{width:"100%",height:"100%"},"&:hover":{cursor:"pointer","& .placeholder":{zIndex:9}}}),V=(0,c.Ay)("div")(e=>{var i;let{theme:r}=e;return{display:"flex",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:null===(i=r.palette)||void 0===i?void 0:i.text.secondary,backgroundColor:r.palette.background.neutral,transition:r.transitions.create("opacity",{easing:r.transitions.easing.easeInOut,duration:r.transitions.duration.shorter}),"&:hover":{opacity:.72}}});function O(e){let{error:i,file:r,caption:l,sx:a,...s}=e;const{getRootProps:d,getInputProps:c,isDragActive:m,isDragReject:g,fileRejections:v}=(0,o.VB)({multiple:!1,...s}),j=()=>(0,D.jsx)(x.A,{variant:"outlined",sx:{py:1,px:2,my:2,borderColor:"error.light",bgcolor:e=>(0,p.X4)(e.palette.error.main,.08)},children:v.map(e=>{let{file:i,errors:r}=e;const{path:t,size:n}=i;return(0,D.jsxs)(h.A,{sx:{my:1},children:[(0,D.jsxs)(u.A,{variant:"subtitle2",noWrap:!0,children:[t," - ",(0,w.tm)(n)]}),r.map(e=>(0,D.jsxs)(u.A,{variant:"caption",component:"p",children:["- ",e.message]},e.code))]},t)})});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(q,{sx:a,children:(0,D.jsxs)(M,{...d(),sx:{...m&&{opacity:.72},...(g||i)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}},children:[(0,D.jsx)("input",{...c()}),r&&(0,D.jsx)(h.A,{component:"img",alt:"avatar",src:(0,t.isString)(r)?r:r.preview,sx:{zIndex:8,objectFit:"cover"}}),(0,D.jsxs)(V,{className:"placeholder",sx:{...r&&{opacity:0,color:"common.white",bgcolor:"grey.900","&:hover":{opacity:.72}}},children:[(0,D.jsx)(h.A,{component:n.In,icon:F.A,sx:{width:24,height:24,mb:1}}),(0,D.jsx)(u.A,{variant:"caption",children:r?"Update photo":"Upload photo"})]})]})}),l,v.length>0&&(0,D.jsx)(j,{})]})}},36880:(e,i,r)=>{r.d(i,{A:()=>h});var t=r(53536),n=r(5748),o=r(11892),l=r(96446),a=r(85865),s=r(77739),d=r(17392),c=r(88446),p=r(76412),x=r(70579);function h(e){let{links:i,action:r,heading:h,info:u,moreLink:m=[],sx:g,...v}=e;return(0,x.jsxs)(l.A,{sx:{mb:5,...g},children:[(0,x.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,x.jsxs)(l.A,{sx:{flexGrow:1},children:[(0,x.jsxs)(l.A,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,x.jsx)(a.A,{variant:"h4",gutterBottom:!0,children:h}),(0,x.jsx)(s.A,{title:u,placement:"bottom",arrow:!0,children:(0,x.jsx)(d.A,{children:(0,x.jsx)(n.In,{icon:o.A,width:25,height:25})})})]}),(0,x.jsx)(p._5,{links:i,...v})]}),r&&(0,x.jsx)(l.A,{sx:{flexShrink:0},children:r})]}),(0,x.jsx)(l.A,{sx:{mt:2},children:(0,t.isString)(m)?(0,x.jsx)(c.A,{href:m,target:"_blank",variant:"body2",children:m}):m.map(e=>(0,x.jsx)(c.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e))})]})}},50467:(e,i,r)=>{r.d(i,{A:()=>a});var t=r(34535),n=r(90310),o=r(70579);const l=(0,t.Ay)("span")(e=>{var i,r,t;let{theme:o,styleProps:l}=e;const a="light"===o.palette.mode,{color:s,variant:d}=l;return{height:22,minWidth:22,lineHeight:0,borderRadius:8,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:o.spacing(0,1),color:o.palette.grey[800],fontSize:o.typography.pxToRem(12),fontFamily:o.typography.fontFamily,backgroundColor:o.palette.grey[300],fontWeight:o.typography.fontWeightBold,..."default"!==s?{..."filled"===d&&{...(e=>({color:o.palette[e].contrastText,backgroundColor:o.palette[e].main}))(s)},..."outlined"===d&&{...(e=>({color:o.palette[e].main,backgroundColor:"transparent",border:`1px solid ${o.palette[e].main}`}))(s)},..."ghost"===d&&{...(e=>({color:o.palette[e][a?"dark":"light"],backgroundColor:(0,n.X4)(o.palette[e].main,.16)}))(s)}}:{..."outlined"===d&&{backgroundColor:"transparent",color:null===(i=o.palette)||void 0===i||null===(r=i.text)||void 0===r?void 0:r.primary,border:`1px solid ${o.palette.grey[50032]}`},..."ghost"===d&&{color:a?null===(t=o.palette)||void 0===t?void 0:t.text.secondary:o.palette.common.white,backgroundColor:o.palette.grey[50016]}}}});function a(e){let{color:i="default",variant:r="ghost",children:t,...n}=e;return(0,o.jsx)(l,{styleProps:{color:i,variant:r},...n,children:t})}},73338:(e,i,r)=>{r.d(i,{IG:()=>l,Rn:()=>s,kB:()=>a,pA:()=>c,tm:()=>d});var t=r(53536),n=r(79328),o=r.n(n);function l(e){return o()(e/100).format("0.0%")}function a(e){return o()(e).format()}function s(e){return(0,t.replace)(o()(e).format("0.00a"),".00","")}function d(e){return o()(e).format("0.0 b")}function c(e,i){return o()(e/i).format("0.0%")}},85757:(e,i,r)=>{r.r(i),r.d(i,{default:()=>F});var t=r(65043),n=r(67457),o=r(73216),l=r(19252),a=r(15285),s=r(31802),d=r(70370),c=r(49849),p=r(48407),x=r(11737),h=r(96221),u=r(36880),m=r(80899),g=r(46987),v=r(86897),j=r(72812),y=r(68903),f=r(12110),b=r(96446),A=r(85865),w=r(81673),C=r(74605),k=r(19042),I=r(88911),D=r(67784),R=r(83462),U=r(26600),S=r(35316),P=r(98533),_=r(29347),N=r(42518),B=r(73338),L=r(50467),$=r(2990),E=r(70579);function T(e){var i,r,n,l;let{isEdit:d,currentUser:c}=e;const x=(0,o.Zp)(),{enqueueSnackbar:h}=(0,g.dh)(),u=(0,a.wA)(),{userList:T,companiesList:W,appendUrl:z}=(0,a.d4)(e=>e.user),{filteredRoleList:F}=(0,a.d4)(e=>e.role),[q,M]=(0,t.useState)(""),[V,O]=(0,t.useState)(!1),K=e=>{x((e=>{let i=e;return z&&(i=`${e}?${z}`),i})(e))},X=()=>{O(!1)},Y=m.Ik().shape({name:m.Yj().required("Name is required"),email:m.Yj().required("Email is required").email(),company:m.Yj().required("Company is required"),role:m.Yj().required("Role is required")}),Z=e=>!(null===J||void 0===J||!J[e]),G=async()=>{const e=null===T||void 0===T?void 0:T.find(e=>e.email===J.email);if(e&&!d)M(`User with [${J.email}] already exists!!`),O(!0);else{const{avatarUrl:i,company:r,email:t,name:n,role:o,status:l}=J,a=n.lastIndexOf(" "),c={firstName:-1===a?n:n.substring(0,a),lastName:-1!==a?n.substring(a+1,n.length):null,avatarUrl:i,company:r,email:t,role:o,status:l};d?await(0,s.qm)(u,c,null===e||void 0===e?void 0:e._id):await(0,s.aE)(u,c)}};(0,t.useEffect)(()=>{},[]);const H=(0,v.Wx)({enableReinitialize:!0,initialValues:{name:c?`${null===c||void 0===c?void 0:c.firstName} ${null===c||void 0===c?void 0:c.lastName}`:"",email:(null===c||void 0===c?void 0:c.email)||"",avatarUrl:(null===c||void 0===c?void 0:c.avatarUrl)||null,status:(null===c||void 0===c?void 0:c.status)||"active",company:(null===c||void 0===c||null===(i=c.company)||void 0===i?void 0:i._id)||"",role:(null===c||void 0===c||null===(r=c.role)||void 0===r?void 0:r._id)||""},validationSchema:Y,onSubmit:async(e,i)=>{let{setSubmitting:r,resetForm:t,setErrors:n}=i;try{await G(),r(!1);(null===T||void 0===T?void 0:T.find(i=>i.email.toLowerCase()===e.email.toLowerCase()))&&!d||(t(),h(d?"Update success":"Create success",{variant:"success"}),K(p.nB.user.allUsers))}catch(o){r(!1),n(o)}}}),{errors:Q,values:J,touched:ee,handleSubmit:ie,isSubmitting:re,setFieldValue:te,getFieldProps:ne}=H,oe=(0,t.useCallback)(e=>{const i=e[0];i&&te("avatarUrl",{...i,preview:URL.createObjectURL(i)})},[te]),le=null===F||void 0===F?void 0:F.filter(e=>1===e.status);return(0,E.jsx)(v.QI,{value:H,children:(0,E.jsx)(v.lV,{noValidate:!0,autoComplete:"off",onSubmit:ie,children:(0,E.jsxs)(y.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(y.Ay,{item:!0,xs:12,md:4,children:(0,E.jsxs)(f.A,{sx:{py:10,px:3},children:[d&&(0,E.jsx)(L.A,{color:"active"!==J.status?"error":"success",sx:{textTransform:"uppercase",position:"absolute",top:24,right:24},children:J.status}),(0,E.jsxs)(b.A,{sx:{mb:5},children:[(0,E.jsx)($.nZ,{accept:"image/*",file:J.avatarUrl,maxSize:3145728,onDrop:oe,error:Boolean(ee.avatarUrl&&Q.avatarUrl),caption:(0,E.jsxs)(A.A,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,E.jsx)("br",{})," max size of ",(0,B.tm)(3145728)]})}),(0,E.jsx)(w.A,{error:!0,sx:{px:2,textAlign:"center"},children:ee.avatarUrl&&Q.avatarUrl})]}),d&&(0,E.jsx)(C.A,{labelPlacement:"start",control:(0,E.jsx)(k.A,{onChange:e=>te("status",e.target.checked?"banned":"active"),checked:"active"!==J.status}),label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(A.A,{variant:"subtitle2",sx:{mb:.5},children:"Banned"}),(0,E.jsx)(A.A,{variant:"body2",sx:{color:"text.secondary"},children:"Apply disable account"})]}),sx:{mx:0,mb:3,width:1,justifyContent:"space-between"}})]})}),(0,E.jsx)(y.Ay,{item:!0,xs:12,md:8,children:(0,E.jsxs)(f.A,{sx:{p:3},children:[(0,E.jsxs)(I.A,{spacing:3,children:[(0,E.jsxs)(I.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[(0,E.jsx)(D.A,{fullWidth:!0,label:"Full Name",...ne("name"),error:Boolean(ee.name&&Q.name),helperText:ee.name&&Q.name}),(0,E.jsx)(D.A,{fullWidth:!0,label:"Email Address",...ne("email"),disabled:d,error:Boolean(ee.email&&Q.email),helperText:ee.email&&Q.email})]}),(0,E.jsxs)(I.A,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[(0,E.jsxs)(D.A,{select:!0,fullWidth:!0,label:"Company",value:(null===c||void 0===c||null===(n=c.company)||void 0===n?void 0:n._id)||"",...ne("company"),SelectProps:{native:!0},InputLabelProps:{shrink:Z("company")},error:Boolean(ee.company&&Q.company),helperText:ee.company&&Q.company,children:[(0,E.jsx)("option",{value:""}),W&&W.map(e=>(0,E.jsx)("option",{value:e._id,children:e.company},e._id))]}),(0,E.jsxs)(D.A,{select:!0,fullWidth:!0,label:"Role",value:(null===c||void 0===c||null===(l=c.role)||void 0===l?void 0:l._id)||"",...ne("role"),SelectProps:{native:!0},InputLabelProps:{shrink:Z("role")},error:Boolean(ee.role&&Q.role),helperText:ee.role&&Q.role,children:[(0,E.jsx)("option",{value:""}),le&&(null===le||void 0===le?void 0:le.map(e=>(0,E.jsx)("option",{value:e._id,children:e.roleName},e._id)))]})]}),(0,E.jsx)(b.A,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:(0,E.jsx)(j.A,{type:"submit",variant:"contained",loading:re,children:d?"Save Changes":"Create User"})})]}),(0,E.jsxs)(R.A,{open:V,onClose:X,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,E.jsx)(U.A,{id:"alert-dialog-title",children:"User Info"}),(0,E.jsx)(S.A,{children:(0,E.jsxs)(P.A,{id:"alert-dialog-description",children:[(0,E.jsx)("br",{}),(0,E.jsx)("br",{}),q,(0,E.jsx)("br",{}),(0,E.jsx)("br",{}),"Please change"]})}),(0,E.jsx)(_.A,{children:(0,E.jsx)(N.A,{autoFocus:!0,onClick:X,children:"OK"})})]})]})})]})})})}var W=r(95683),z=r(77137);function F(){const{themeStretch:e}=(0,x.A)(),i=(0,a.wA)(),{pathname:r}=(0,o.zy)(),{userId:m}=(0,o.g)(),{userList:g,companiesList:v,appendUrl:j}=(0,a.d4)(e=>e.user),{rolesList:y}=(0,a.d4)(e=>e.role),f=r.includes("edit"),b=g.find(e=>(0,n.kW)(e._id)===m);return(0,t.useEffect)(()=>{g||i((0,s.aU)());y||(async()=>{i((0,s.aU)());const e=await(0,d.Up)();(0,c.qs)(i,e),(async e=>{var r,t;const n=await(0,W.uV)(),o=null===n||void 0===n||null===(r=n.role)||void 0===r?void 0:r.roleID;let l=null;o===z.iK.ADMIN?l=null===e||void 0===e?void 0:e.filter(e=>[z.iK.ADMIN,z.iK.CLIENT_ADMIN].includes(e.roleID)):o===z.iK.CLIENT_ADMIN&&(l=null===e||void 0===e?void 0:e.filter(e=>![z.iK.ADMIN].includes(e.roleID))),l&&0!==(null===(t=l)||void 0===t?void 0:t.length)&&(0,c.dS)(i,l)})(e)})(),v||i((0,s.i9)())}),(0,E.jsx)(h.A,{title:"TestEnsure: Create a new user",children:(0,E.jsxs)(l.A,{maxWidth:!e&&"xl",children:[(0,E.jsx)(u.A,{heading:f?"Edit user":"Create a new user",links:[{name:"All Users",href:(e=>{let i=e;return j&&(i=`${e}?${j}`),i})(p.nB.user.allUsers)},{name:f?`${null===b||void 0===b?void 0:b.firstName} ${null===b||void 0===b?void 0:b.lastName}`:"New user"}]}),(0,E.jsx)(T,{isEdit:f,currentUser:b})]})})}}}]);
//# sourceMappingURL=5757.598e3bcd.chunk.js.map